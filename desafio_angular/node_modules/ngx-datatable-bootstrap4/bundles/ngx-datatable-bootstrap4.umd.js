(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('@angular/forms')) :
    typeof define === 'function' && define.amd ? define('ngx-datatable-bootstrap4', ['exports', '@angular/core', '@angular/common', '@angular/forms'], factory) :
    (factory((global['ngx-datatable-bootstrap4'] = {}),global.ng.core,global.ng.common,global.ng.forms));
}(this, (function (exports,core,common,forms) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template T
     */
    var DataTableColumn = (function () {
        function DataTableColumn() {
            // for [ngClass]
            this.styleClassObject = {};
            this.sortable = false;
            this.resizable = false;
            this.visible = true;
        }
        /**
         * @param {?} row
         * @param {?} index
         * @return {?}
         */
        DataTableColumn.prototype.getCellColor = /**
         * @param {?} row
         * @param {?} index
         * @return {?}
         */
            function (row, index) {
                if (this.cellColors !== undefined) {
                    return ((this.cellColors))(row.item, row, this, index);
                }
            };
        /**
         * @return {?}
         */
        DataTableColumn.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this._initCellClass();
            };
        /**
         * @return {?}
         */
        DataTableColumn.prototype._initCellClass = /**
         * @return {?}
         */
            function () {
                if (!this.styleClass && this.property) {
                    if (/^[a-zA-Z0-9_]+$/.test(this.property)) {
                        this.styleClass = 'column-' + this.property;
                    }
                    else {
                        this.styleClass = 'column-' + this.property.replace(/[^a-zA-Z0-9_]/g, '');
                    }
                }
                if (this.styleClass != null) {
                    this.styleClassObject = (_a = {},
                        _a[this.styleClass] = true,
                        _a);
                }
                var _a;
            };
        DataTableColumn.decorators = [
            { type: core.Directive, args: [{
                        selector: 'data-table-column'
                    },] },
        ];
        DataTableColumn.propDecorators = {
            header: [{ type: core.Input }],
            sortable: [{ type: core.Input }],
            resizable: [{ type: core.Input }],
            property: [{ type: core.Input }],
            styleClass: [{ type: core.Input }],
            cellColors: [{ type: core.Input }],
            width: [{ type: core.Input }],
            visible: [{ type: core.Input }],
            cellTemplate: [{ type: core.ContentChild, args: ['cellTemplate',] }],
            headerTemplate: [{ type: core.ContentChild, args: ['headerTemplate',] }]
        };
        return DataTableColumn;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template T
     */
    var DataTablePagination$$1 = (function () {
        function DataTablePagination$$1(dataTable) {
            this.dataTable = dataTable;
        }
        Object.defineProperty(DataTablePagination$$1.prototype, "maxPage", {
            get: /**
             * @return {?}
             */ function () {
                return Math.ceil(this.dataTable.itemCount / this.dataTable.limit);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTablePagination$$1.prototype, "limit", {
            get: /**
             * @return {?}
             */ function () {
                return this.dataTable.limit;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                if (Number(value) > 0) {
                    this.dataTable.limit = Math.floor(+value);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTablePagination$$1.prototype, "page", {
            get: /**
             * @return {?}
             */ function () {
                return this.dataTable.page;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                if (Number(value) > 0) {
                    this.dataTable.page = Math.floor(+value);
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        DataTablePagination$$1.prototype.pageBack = /**
         * @return {?}
         */
            function () {
                this.dataTable.offset -= Math.min(this.dataTable.limit, this.dataTable.offset);
            };
        /**
         * @return {?}
         */
        DataTablePagination$$1.prototype.pageForward = /**
         * @return {?}
         */
            function () {
                this.dataTable.offset += this.dataTable.limit;
            };
        /**
         * @return {?}
         */
        DataTablePagination$$1.prototype.pageFirst = /**
         * @return {?}
         */
            function () {
                this.dataTable.offset = 0;
            };
        /**
         * @return {?}
         */
        DataTablePagination$$1.prototype.pageLast = /**
         * @return {?}
         */
            function () {
                this.dataTable.offset = (this.maxPage - 1) * this.dataTable.limit;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        DataTablePagination$$1.prototype.keyPress = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                var /** @type {?} */ inputChar = String.fromCharCode(event.charCode);
                if (!(Number(inputChar) >= 0)) {
                    event.preventDefault();
                }
            };
        DataTablePagination$$1.decorators = [
            { type: core.Component, args: [{
                        selector: 'data-table-pagination',
                        template: "<div class=\"navbar p-0 pagination-component\">\n  <div>\n    {{dataTable.translations.paginationRange}}:&nbsp;{{dataTable.offset < 0 ? 0 : dataTable.offset + 1}}&nbsp;-\n    {{[dataTable.offset + dataTable.limit , dataTable.itemCount] | min}}&nbsp;/&nbsp;{{dataTable.itemCount}}\n  </div>\n  <ul class=\"nav justify-content-end\">\n    <li class=\"nav-item pagination-limit\">\n      <div class=\"input-group\">\n        <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\">{{dataTable.translations.paginationLimit}}:</span>\n        </div>\n        <input #limitInput type=\"number\" class=\"form-control\" min=\"1\" step=\"1\"\n               [ngModel]=\"limit\" (blur)=\"limit = limitInput.value\"\n               (keyup.enter)=\"limit = limitInput.value\"\n               (keyup.esc)=\"limitInput.value = limit\"\n               (keypress)=\"keyPress($event)\"/>\n      </div>\n    </li>\n    <li class=\"nav-item\">\n      <button [disabled]=\"dataTable.offset <= 0\" (click)=\"pageFirst()\" class=\"btn btn-default\">&laquo;</button>\n      <button [disabled]=\"dataTable.offset <= 0\" (click)=\"pageBack()\" class=\"btn btn-default\">&lsaquo;</button>\n      <div class=\"d-inline-block\">\n        <div class=\"input-group\">\n          <input #pageInput type=\"number\" class=\"form-control\" min=\"1\" step=\"1\" max=\"{{maxPage}}\"\n                 [ngModel]=\"page\" (blur)=\"page = pageInput.value\"\n                 (keyup.enter)=\"page = pageInput.value\" (keyup.esc)=\"pageInput.value = page\"\n                 (keypress)=\"keyPress($event)\"/>\n          <div class=\"input-group-append\">\n            <span class=\"input-group-text\">/&nbsp;{{dataTable.lastPage}}</span>\n          </div>\n        </div>\n      </div>\n      <button [disabled]=\"(dataTable.offset + dataTable.limit) >= dataTable.itemCount\" (click)=\"pageForward()\"\n              class=\"btn btn-default\">&rsaquo;\n      </button>\n      <button [disabled]=\"(dataTable.offset + dataTable.limit) >= dataTable.itemCount\" (click)=\"pageLast()\"\n              class=\"btn btn-default\">&raquo;\n      </button>\n    </li>\n  </ul>\n</div>\n",
                        styles: [".pagination-component .pagination-limit{margin-right:1rem}.pagination-component .pagination-limit input{width:75px}.pagination-component .btn{margin-top:-3px}"]
                    },] },
        ];
        /** @nocollapse */
        DataTablePagination$$1.ctorParameters = function () {
            return [
                { type: DataTable$$1, decorators: [{ type: core.Inject, args: [core.forwardRef(function () { return DataTable$$1; }),] }] }
            ];
        };
        return DataTablePagination$$1;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template T
     */
    var DataTableRow$$1 = (function () {
        function DataTableRow$$1(dataTable) {
            this.dataTable = dataTable;
            this.selectedChange = new core.EventEmitter();
            this._this = this;
        }
        Object.defineProperty(DataTableRow$$1.prototype, "selected", {
            get: /**
             * @return {?}
             */ function () {
                return this._selected;
            },
            set: /**
             * @param {?} selected
             * @return {?}
             */ function (selected) {
                this._selected = selected;
                this.selectedChange.emit(selected);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTableRow$$1.prototype, "displayIndex", {
            // other:
            get: /**
             * @return {?}
             */ function () {
                if (this.dataTable.pagination) {
                    return this.dataTable.displayParams.offset + this.index + 1;
                }
                else {
                    return this.index + 1;
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        DataTableRow$$1.prototype.getTooltip = /**
         * @return {?}
         */
            function () {
                if (this.dataTable.rowTooltip) {
                    return this.dataTable.rowTooltip(this.item, this, this.index);
                }
                return '';
            };
        /**
         * @return {?}
         */
        DataTableRow$$1.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.selected = false;
            };
        DataTableRow$$1.decorators = [
            { type: core.Component, args: [{
                        selector: '[dataTableRow]',
                        template: "<tr class=\"data-table-row\"\n    [title]=\"getTooltip()\"\n    [style.background-color]=\"dataTable.getRowColor(item, index, _this)\"\n    [class.row-odd]=\"index % 2 === 0\"\n    [class.row-even]=\"index % 2 === 1\"\n    [class.selected]=\"selected\"\n    [class.clickable]=\"dataTable.selectOnRowClick\"\n    (dblclick)=\"dataTable.rowDoubleClicked(_this, $event)\"\n    (click)=\"dataTable.rowClicked(_this, $event)\">\n  <td [hide]=\"!dataTable.expandColumnVisible\" class=\"row-expand-button\"\n      (click)=\"expanded = !expanded; $event.stopPropagation(); dataTable.rowExpanded(_this, $event)\">\n    <span class=\"fa fa-arrow-circle-o-right\" [hide]=\"expanded\"></span>\n    <span class=\"fa fa-arrow-circle-o-down\" [hide]=\"!expanded\"></span>\n  </td>\n  <td [hide]=\"!dataTable.indexColumnVisible\" class=\"index-column\" [textContent]=\"displayIndex\"></td>\n  <td [hide]=\"!dataTable.selectColumnVisible\" class=\"select-column\">\n    <input type=\"checkbox\" [(ngModel)]=\"selected\"/>\n  </td>\n  <td *ngFor=\"let column of dataTable.columns\" [hide]=\"!column.visible\" [ngClass]=\"column.styleClassObject\"\n      class=\"data-column\"\n      [style.background-color]=\"column.getCellColor(_this, index)\"\n      (click)=\"dataTable.cellClicked(column, _this, $event)\">\n    <div *ngIf=\"!column.cellTemplate\" [textContent]=\"item[column.property]\"></div>\n    <ng-container *ngIf=\"column.cellTemplate\" [ngTemplateOutlet]=\"column.cellTemplate\"\n         [ngTemplateOutletContext]=\"{column: column, row: _this, item: item}\"></ng-container>\n  </td>\n</tr>\n<tr *ngIf=\"dataTable.expandableRows\" [hide]=\"!expanded\" class=\"row-expansion\">\n  <td [attr.colspan]=\"dataTable.columnCount\">\n    <ng-container [ngTemplateOutlet]=\"dataTable.expandTemplate\"\n                  [ngTemplateOutletContext]=\"{row: _this, item: item}\"></ng-container>\n  </td>\n</tr>\n",
                        styles: [".select-column{text-align:center}.row-expand-button{cursor:pointer;text-align:center}.clickable{cursor:pointer}"]
                    },] },
        ];
        /** @nocollapse */
        DataTableRow$$1.ctorParameters = function () {
            return [
                { type: DataTable$$1, decorators: [{ type: core.Inject, args: [core.forwardRef(function () { return DataTable$$1; }),] }] }
            ];
        };
        DataTableRow$$1.propDecorators = {
            item: [{ type: core.Input }],
            index: [{ type: core.Input }],
            selectedChange: [{ type: core.Output }]
        };
        return DataTableRow$$1;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} event
     * @param {?} __1
     * @return {?}
     */
    function drag(event, _a) {
        var move = _a.move, up = _a.up;
        var /** @type {?} */ startX = event.pageX;
        var /** @type {?} */ startY = event.pageY;
        var /** @type {?} */ x = startX;
        var /** @type {?} */ y = startY;
        var /** @type {?} */ moved = false;
        /**
         * @param {?} e
         * @return {?}
         */
        function mouseMoveHandler(e) {
            var /** @type {?} */ dx = e.pageX - x;
            var /** @type {?} */ dy = e.pageY - y;
            x = e.pageX;
            y = e.pageY;
            if (dx || dy) {
                moved = true;
            }
            move(e, dx, dy, x, y);
            e.preventDefault(); // to avoid text selection
        }
        /**
         * @param {?} e
         * @return {?}
         */
        function mouseUpHandler(e) {
            x = e.pageX;
            y = e.pageY;
            document.removeEventListener('mousemove', mouseMoveHandler);
            document.removeEventListener('mouseup', mouseUpHandler);
            if (up) {
                up(e, x, y, moved);
            }
        }
        document.addEventListener('mousemove', mouseMoveHandler);
        document.addEventListener('mouseup', mouseUpHandler);
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ defaultTranslations = ({
        indexColumn: 'index',
        selectColumn: 'select',
        expandColumn: 'expand',
        paginationLimit: 'Limit',
        paginationRange: 'Results'
    });

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template T
     */
    var DataTable$$1 = (function () {
        function DataTable$$1() {
            this._sortAsc = true;
            this._offset = 0;
            this._limit = 10;
            this._items = [];
            this._scheduledReload = null;
            this._selectAllCheckbox = false;
            this._displayParams = /** @type {?} */ ({});
            this._reloading = false;
            this._resizeInProgress = false;
            this.selectedRows = [];
            this.resizeLimit = 30;
            this.pagination = true;
            this.indexColumn = true;
            this.indexColumnHeader = '';
            this.selectColumn = false;
            this.multiSelect = true;
            this.substituteRows = true;
            this.expandableRows = false;
            this.translations = defaultTranslations;
            this.selectOnRowClick = false;
            this.autoReload = true;
            this.showReloading = false;
            // event handlers:
            this.rowClick = new core.EventEmitter();
            this.rowExpand = new core.EventEmitter();
            this.rowDoubleClick = new core.EventEmitter();
            this.headerClick = new core.EventEmitter();
            this.cellClick = new core.EventEmitter();
            this.reload = new core.EventEmitter();
        }
        Object.defineProperty(DataTable$$1.prototype, "items", {
            get: /**
             * @return {?}
             */ function () {
                return this._items;
            },
            set: /**
             * @param {?} items
             * @return {?}
             */ function (items) {
                this._items = items;
                this._onReloadFinished();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "sortBy", {
            get: /**
             * @return {?}
             */ function () {
                return this._sortBy;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._sortBy = value;
                this._triggerReload();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "sortAsc", {
            get: /**
             * @return {?}
             */ function () {
                return this._sortAsc;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._sortAsc = value;
                this._triggerReload();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "offset", {
            get: /**
             * @return {?}
             */ function () {
                return this._offset;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._offset = value;
                this._triggerReload();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "limit", {
            get: /**
             * @return {?}
             */ function () {
                return this._limit;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._limit = value;
                this._triggerReload();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "page", {
            // calculated property:
            get: /**
             * @return {?}
             */ function () {
                return Math.floor(this.offset / this.limit) + 1;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this.offset = (value - 1) * this.limit;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "lastPage", {
            get: /**
             * @return {?}
             */ function () {
                return Math.ceil(this.itemCount / this.limit);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "reloading", {
            get: /**
             * @return {?}
             */ function () {
                return this._reloading;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "displayParams", {
            get: /**
             * @return {?}
             */ function () {
                return this._displayParams;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "selectAllCheckbox", {
            get: /**
             * @return {?}
             */ function () {
                return this._selectAllCheckbox;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._selectAllCheckbox = value;
                this._onSelectAllChanged(value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "columnCount", {
            get: /**
             * @return {?}
             */ function () {
                var /** @type {?} */ count = 0;
                count += this.indexColumnVisible ? 1 : 0;
                count += this.selectColumnVisible ? 1 : 0;
                count += this.expandColumnVisible ? 1 : 0;
                this.columns.toArray().forEach(function (column) {
                    count += column.visible ? 1 : 0;
                });
                return count;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DataTable$$1.prototype, "substituteItems", {
            get: /**
             * @return {?}
             */ function () {
                return Array.from({ length: /** @type {?} */ ((this.displayParams)).limit - this.items.length });
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} item
         * @param {?} index
         * @param {?} row
         * @return {?}
         */
        DataTable$$1.prototype.getRowColor = /**
         * @param {?} item
         * @param {?} index
         * @param {?} row
         * @return {?}
         */
            function (item, index, row) {
                if (this.rowColors !== undefined) {
                    return ((this.rowColors))(item, row, index);
                }
            };
        // setting multiple observable properties simultaneously
        /**
         * @param {?} sortBy
         * @param {?} asc
         * @return {?}
         */
        DataTable$$1.prototype.sort = /**
         * @param {?} sortBy
         * @param {?} asc
         * @return {?}
         */
            function (sortBy, asc) {
                this.sortBy = sortBy;
                this.sortAsc = asc;
            };
        /**
         * @return {?}
         */
        DataTable$$1.prototype.reloadItems = /**
         * @return {?}
         */
            function () {
                this._reloading = true;
                this.reload.emit(this._getRemoteParameters());
            };
        /**
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
        DataTable$$1.prototype.rowClicked = /**
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
            function (row, event) {
                this.rowClick.emit({ row: row, event: event });
            };
        /**
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
        DataTable$$1.prototype.rowDoubleClicked = /**
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
            function (row, event) {
                this.rowDoubleClick.emit({ row: row, event: event });
            };
        /**
         * @param {?} column
         * @param {?} event
         * @return {?}
         */
        DataTable$$1.prototype.headerClicked = /**
         * @param {?} column
         * @param {?} event
         * @return {?}
         */
            function (column, event) {
                if (!this._resizeInProgress) {
                    this.headerClick.emit({ column: column, event: event });
                }
                else {
                    // this is because I can't prevent click from mousup of the drag end
                    this._resizeInProgress = false;
                }
            };
        /**
         * @param {?} column
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
        DataTable$$1.prototype.cellClicked = /**
         * @param {?} column
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
            function (column, row, event) {
                this.cellClick.emit({ row: row, column: column, event: event });
            };
        /**
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
        DataTable$$1.prototype.rowExpanded = /**
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
            function (row, event) {
                this.rowExpand.emit({ row: row, event: event });
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DataTable$$1.prototype.onRowSelectChanged = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                // maintain the selectedRow(s) view
                if (this.multiSelect) {
                    var /** @type {?} */ index = this.selectedRows.indexOf(row);
                    if (row.selected && index < 0) {
                        this.selectedRows.push(row);
                    }
                    else if (!row.selected && index >= 0) {
                        this.selectedRows.splice(index, 1);
                    }
                }
                else {
                    if (row.selected) {
                        this.selectedRow = row;
                    }
                    else if (this.selectedRow === row) {
                        this.selectedRow = undefined;
                    }
                }
                // unselect all other rows:
                if (row.selected && !this.multiSelect) {
                    this.rows.toArray().filter(function (row_) { return row_.selected; }).forEach(function (row_) {
                        if (row_ !== row) {
                            // avoid endless loop
                            row_.selected = false;
                        }
                    });
                }
            };
        /**
         * @param {?} event
         * @param {?} column
         * @param {?} columnElement
         * @return {?}
         */
        DataTable$$1.prototype.resizeColumnStart = /**
         * @param {?} event
         * @param {?} column
         * @param {?} columnElement
         * @return {?}
         */
            function (event, column, columnElement) {
                var _this = this;
                this._resizeInProgress = true;
                drag(event, {
                    move: function (moveEvent, dx) {
                        if (_this._isResizeInLimit(columnElement, dx)) {
                            column.width = columnElement.offsetWidth + dx;
                        }
                    },
                });
            };
        // init
        /**
         * @return {?}
         */
        DataTable$$1.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this._initDefaultValues();
                this._initDefaultClickEvents();
                this._updateDisplayParams();
                if (this.autoReload && this._scheduledReload == null) {
                    this.reloadItems();
                }
            };
        /**
         * @return {?}
         */
        DataTable$$1.prototype._initDefaultValues = /**
         * @return {?}
         */
            function () {
                this.indexColumnVisible = this.indexColumn;
                this.selectColumnVisible = this.selectColumn;
                this.expandColumnVisible = this.expandableRows;
            };
        /**
         * @return {?}
         */
        DataTable$$1.prototype._initDefaultClickEvents = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.headerClick.subscribe(function (tableEvent) { return _this._sortColumn(tableEvent.column); });
                if (this.selectOnRowClick) {
                    this.rowClick.subscribe(function (tableEvent) { return tableEvent.row.selected = !tableEvent.row.selected; });
                }
            };
        /**
         * @return {?}
         */
        DataTable$$1.prototype._onReloadFinished = /**
         * @return {?}
         */
            function () {
                this._updateDisplayParams();
                this._selectAllCheckbox = false;
                this._reloading = false;
            };
        /**
         * @return {?}
         */
        DataTable$$1.prototype._updateDisplayParams = /**
         * @return {?}
         */
            function () {
                this._displayParams = {
                    sortBy: this.sortBy,
                    sortAsc: this.sortAsc,
                    offset: this.offset,
                    limit: this.limit
                };
            };
        /**
         * @return {?}
         */
        DataTable$$1.prototype._triggerReload = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // for avoiding cascading reloads if multiple params are set at once:
                if (this._scheduledReload) {
                    clearTimeout(this._scheduledReload);
                }
                this._scheduledReload = setTimeout(function () {
                    _this.reloadItems();
                });
            };
        /**
         * @return {?}
         */
        DataTable$$1.prototype._getRemoteParameters = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ params = ({});
                if (this.sortBy) {
                    params.sortBy = this.sortBy;
                    params.sortAsc = this.sortAsc;
                }
                if (this.pagination) {
                    params.offset = this.offset;
                    params.limit = this.limit;
                }
                return params;
            };
        /**
         * @param {?} column
         * @return {?}
         */
        DataTable$$1.prototype._sortColumn = /**
         * @param {?} column
         * @return {?}
         */
            function (column) {
                if (column.sortable) {
                    var /** @type {?} */ ascending = this.sortBy === column.property ? !this.sortAsc : true;
                    this.sort(column.property, ascending);
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        DataTable$$1.prototype._onSelectAllChanged = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.rows.toArray().forEach(function (row) { return row.selected = value; });
            };
        /**
         * @param {?} columnElement
         * @param {?} dx
         * @return {?}
         */
        DataTable$$1.prototype._isResizeInLimit = /**
         * @param {?} columnElement
         * @param {?} dx
         * @return {?}
         */
            function (columnElement, dx) {
                /* This is needed because CSS min-width didn't work on table-layout: fixed.
                     Without the limits, resizing can make the next column disappear completely,
                     and even increase the table width. The current implementation suffers from the fact,
                     that offsetWidth sometimes contains out-of-date values. */
                return !((dx < 0 && (columnElement.offsetWidth + dx) <= this.resizeLimit) ||
                    !columnElement.nextElementSibling || // resizing doesn't make sense for the last visible column
                    // resizing doesn't make sense for the last visible column
                    (dx >= 0 && (((columnElement.nextElementSibling)).offsetWidth + dx) <= this.resizeLimit));
            };
        DataTable$$1.decorators = [
            { type: core.Component, args: [{
                        selector: 'data-table',
                        template: "<div class=\"data-table-wrapper\">\n  <data-table-title *ngIf=\"title\"></data-table-title>\n\n  <div class=\"data-table-box\">\n    <table class=\"table table-condensed data-table\">\n      <thead>\n      <tr>\n        <th [hide]=\"!expandColumnVisible\" class=\"expand-column-header\">\n        <th [hide]=\"!indexColumnVisible\" class=\"index-column-header\">\n          <span [textContent]=\"indexColumnHeader\"></span>\n        </th>\n        <th [hide]=\"!selectColumnVisible\" class=\"select-column-header\">\n          <input [hide]=\"!multiSelect\" type=\"checkbox\" [(ngModel)]=\"selectAllCheckbox\"/>\n        </th>\n        <th *ngFor=\"let column of columns\" #th [hide]=\"!column.visible\" (click)=\"headerClicked(column, $event)\"\n            [class.sortable]=\"column.sortable\" [class.resizable]=\"column.resizable\"\n            [ngClass]=\"column.styleClassObject\" class=\"column-header\" [style.width]=\"column.width | px\">\n          <span *ngIf=\"!column.headerTemplate\" [textContent]=\"column.header\"></span>\n          <ng-container *ngIf=\"column.headerTemplate\" [ngTemplateOutlet]=\"column.headerTemplate\"\n                [ngTemplateOutletContext]=\"{column: column}\"></ng-container>\n          <span class=\"column-sort-icon\" *ngIf=\"column.sortable\">\n            <i class=\"fa fa-sort column-sortable-icon\" [hide]=\"column.property === sortBy\"></i>\n            <span [hide]=\"column.property !== sortBy\">\n              <i class=\"fa fa-sort-asc\" [hide]=\"sortAsc\"></i>\n              <i class=\"fa fa-sort-desc\" [hide]=\"!sortAsc\"></i>\n            </span>\n          </span>\n          <span *ngIf=\"column.resizable\" class=\"column-resize-handle\"\n                (mousedown)=\"resizeColumnStart($event, column, th)\"></span>\n        </th>\n      </tr>\n      </thead>\n      <tbody *ngFor=\"let item of items; let index=index\" class=\"data-table-row-wrapper\"\n             dataTableRow #row [item]=\"item\" [index]=\"index\" (selectedChange)=\"onRowSelectChanged(row)\">\n      </tbody>\n      <tbody class=\"substitute-rows\" *ngIf=\"pagination && substituteRows\">\n      <tr *ngFor=\"let item of substituteItems, let index = index\"\n          [class.row-odd]=\"(index + items.length) % 2 === 0\"\n          [class.row-even]=\"(index + items.length) % 2 === 1\">\n        <td [hide]=\"!expandColumnVisible\"></td>\n        <td [hide]=\"!indexColumnVisible\">&nbsp;</td>\n        <td [hide]=\"!selectColumnVisible\"></td>\n        <td *ngFor=\"let column of columns\" [hide]=\"!column.visible\">\n      </tr>\n      </tbody>\n    </table>\n    <div class=\"loading-cover\" *ngIf=\"showReloading && reloading\"></div>\n  </div>\n\n  <data-table-pagination *ngIf=\"pagination\"></data-table-pagination>\n</div>\n",
                        styles: [":host /deep/ .data-table.table>tbody+tbody{border-top:none}:host /deep/ .data-table.table td{vertical-align:middle}:host /deep/ .data-table>tbody>tr>td,:host /deep/ .data-table>thead>tr>th{overflow:hidden}:host /deep/ .row-odd{background-color:#f6f6f6}.data-table .substitute-rows>tr:hover,:host /deep/ .data-table .data-table-row:hover{background-color:#ececec}.data-table{box-shadow:0 0 15px #ececec;table-layout:fixed}.column-header{position:relative}.expand-column-header{width:50px}.select-column-header{width:50px;text-align:center}.index-column-header{width:40px}.column-header.sortable{cursor:pointer}.column-header .column-sort-icon{float:right}.column-header.resizable .column-sort-icon{margin-right:8px}.column-header .column-sort-icon .column-sortable-icon{color:#d3d3d3}.column-header .column-resize-handle{position:absolute;top:0;right:0;margin:0;padding:0;width:8px;height:100%;cursor:col-resize}.data-table-box{position:relative}.loading-cover{position:absolute;width:100%;height:100%;background-color:rgba(255,255,255,.3);top:0}"]
                    },] },
        ];
        DataTable$$1.propDecorators = {
            itemCount: [{ type: core.Input }],
            pagination: [{ type: core.Input }],
            indexColumn: [{ type: core.Input }],
            indexColumnHeader: [{ type: core.Input }],
            rowColors: [{ type: core.Input }],
            rowTooltip: [{ type: core.Input }],
            selectColumn: [{ type: core.Input }],
            multiSelect: [{ type: core.Input }],
            substituteRows: [{ type: core.Input }],
            expandableRows: [{ type: core.Input }],
            translations: [{ type: core.Input }],
            selectOnRowClick: [{ type: core.Input }],
            autoReload: [{ type: core.Input }],
            showReloading: [{ type: core.Input }],
            rowClick: [{ type: core.Output }],
            rowExpand: [{ type: core.Output }],
            rowDoubleClick: [{ type: core.Output }],
            headerClick: [{ type: core.Output }],
            cellClick: [{ type: core.Output }],
            reload: [{ type: core.Output }],
            title: [{ type: core.ContentChild, args: [core.forwardRef(function () { return DataTableTitle; }),] }],
            columns: [{ type: core.ContentChildren, args: [DataTableColumn,] }],
            rows: [{ type: core.ViewChildren, args: [DataTableRow$$1,] }],
            expandTemplate: [{ type: core.ContentChild, args: ['expandTemplate',] }],
            items: [{ type: core.Input }],
            sortBy: [{ type: core.Input }],
            sortAsc: [{ type: core.Input }],
            offset: [{ type: core.Input }],
            limit: [{ type: core.Input }],
            page: [{ type: core.Input }]
        };
        return DataTable$$1;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template T
     */
    var DataTableTitleComponent = (function () {
        function DataTableTitleComponent(dataTable) {
            this.dataTable = dataTable;
            this.columnSelectorOpen = false;
        }
        /**
         * @param {?} $event
         * @return {?}
         */
        DataTableTitleComponent.prototype._closeSelector = /**
         * @param {?} $event
         * @return {?}
         */
            function ($event) {
                this.columnSelectorOpen = false;
            };
        DataTableTitleComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'data-table-title',
                        template: "<div class=\"navbar\">\n  <h4 class=\"title\" [textContent]=\"dataTable.title.title\"></h4>\n  <ng-container *ngIf=\"dataTable.title.titleTemplate\" [ngTemplateOutlet]=\"dataTable.title.titleTemplate\"\n                [ngTemplateOutletContext]=\"{items: dataTable.items}\">\n  </ng-container>\n  <div *ngIf=\"dataTable.title.controls\">\n    <button type=\"button\" class=\"btn btn-default btn-sm refresh-button\" (click)=\"dataTable.reloadItems()\">\n      <i class=\"fa fa-refresh\"></i>\n    </button>\n    <button type=\"button\" class=\"btn btn-default btn-sm column-selector-button\" [class.active]=\"columnSelectorOpen\"\n            (click)=\"columnSelectorOpen = !columnSelectorOpen; $event.stopPropagation()\">\n      <i class=\"fa fa-list\"></i>\n    </button>\n    <div class=\"column-selector-wrapper\" (click)=\"$event.stopPropagation()\">\n      <div *ngIf=\"columnSelectorOpen\" class=\"column-selector-box card\">\n        <div *ngIf=\"dataTable.expandableRows\" class=\"column-selector-fixed-column checkbox\">\n          <label>\n            <input type=\"checkbox\" [(ngModel)]=\"dataTable.expandColumnVisible\"/>\n            <span>{{dataTable.translations.expandColumn}}</span>\n          </label>\n        </div>\n        <div *ngIf=\"dataTable.indexColumn\" class=\"column-selector-fixed-column checkbox\">\n          <label>\n            <input type=\"checkbox\" [(ngModel)]=\"dataTable.indexColumnVisible\"/>\n            <span>{{dataTable.translations.indexColumn}}</span>\n          </label>\n        </div>\n        <div *ngIf=\"dataTable.selectColumn\" class=\"column-selector-fixed-column checkbox\">\n          <label>\n            <input type=\"checkbox\" [(ngModel)]=\"dataTable.selectColumnVisible\"/>\n            <span>{{dataTable.translations.selectColumn}}</span>\n          </label>\n        </div>\n        <div *ngFor=\"let column of dataTable.columns\" class=\"column-selector-column checkbox\">\n          <label>\n            <input type=\"checkbox\" [(ngModel)]=\"column.visible\"/>\n            <span [textContent]=\"column.header\"></span>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",
                        styles: [".navbar{padding:10px 0}.navbar .title{margin:5px 0 0 5px}.column-selector-wrapper{position:relative}.column-selector-wrapper .column-selector-box{box-shadow:0 0 10px #d3d3d3;width:150px;padding:10px;position:absolute;right:0;top:1px;z-index:1060}.column-selector-wrapper .column-selector-box .checkbox{margin-bottom:4px}.column-selector-wrapper .column-selector-box .column-selector-fixed-column{font-style:italic}"]
                    },] },
        ];
        /** @nocollapse */
        DataTableTitleComponent.ctorParameters = function () {
            return [
                { type: DataTable$$1, decorators: [{ type: core.Inject, args: [core.forwardRef(function () { return DataTable$$1; }),] }] }
            ];
        };
        DataTableTitleComponent.propDecorators = {
            _closeSelector: [{ type: core.HostListener, args: ['document:click', ['$event'],] }]
        };
        return DataTableTitleComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DataTableTitle = (function () {
        function DataTableTitle() {
            this.title = '';
            this.controls = true;
        }
        DataTableTitle.decorators = [
            { type: core.Directive, args: [{
                        selector: 'data-table-title'
                    },] },
        ];
        DataTableTitle.propDecorators = {
            title: [{ type: core.Input }],
            titleTemplate: [{ type: core.ContentChild, args: ['titleTemplate',] }],
            controls: [{ type: core.Input }]
        };
        return DataTableTitle;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} obj
     * @return {?}
     */
    function isBlank(obj) {
        return obj === undefined || obj === null;
    }
    var HideDirective = (function () {
        function HideDirective(_elementRef, _renderer) {
            this._elementRef = _elementRef;
            this._renderer = _renderer;
            this._prevCondition = null;
        }
        Object.defineProperty(HideDirective.prototype, "hide", {
            set: /**
             * @param {?} newCondition
             * @return {?}
             */ function (newCondition) {
                this.initDisplayStyle();
                if (newCondition && (isBlank(this._prevCondition) || !this._prevCondition)) {
                    this._prevCondition = true;
                    this._renderer.setElementStyle(this._elementRef.nativeElement, 'display', 'none');
                }
                else if (!newCondition && (isBlank(this._prevCondition) || this._prevCondition)) {
                    this._prevCondition = false;
                    this._renderer.setElementStyle(this._elementRef.nativeElement, 'display', this._displayStyle);
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        HideDirective.prototype.initDisplayStyle = /**
         * @return {?}
         */
            function () {
                if (this._displayStyle === undefined) {
                    var /** @type {?} */ displayStyle = this._elementRef.nativeElement.style.display;
                    if (displayStyle && displayStyle !== 'none') {
                        this._displayStyle = displayStyle;
                    }
                }
            };
        HideDirective.decorators = [
            { type: core.Directive, args: [{ selector: '[hide]' },] },
        ];
        /** @nocollapse */
        HideDirective.ctorParameters = function () {
            return [
                { type: core.ElementRef },
                { type: core.Renderer }
            ];
        };
        HideDirective.propDecorators = {
            hide: [{ type: core.Input }]
        };
        return HideDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var MinPipe = (function () {
        function MinPipe() {
        }
        /**
         * @param {?} value
         * @param {...?} args
         * @return {?}
         */
        MinPipe.prototype.transform = /**
         * @param {?} value
         * @param {...?} args
         * @return {?}
         */
            function (value) {
                var args = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    args[_i - 1] = arguments[_i];
                }
                return Math.min.apply(null, value);
            };
        MinPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'min'
                    },] },
        ];
        return MinPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var PxPipe = (function () {
        function PxPipe() {
        }
        /**
         * @param {?} value
         * @param {...?} args
         * @return {?}
         */
        PxPipe.prototype.transform = /**
         * @param {?} value
         * @param {...?} args
         * @return {?}
         */
            function (value) {
                var args = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    args[_i - 1] = arguments[_i];
                }
                if (value) {
                    return Number(value) >= 0 ? value + "px" : value;
                }
            };
        PxPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'px'
                    },] },
        ];
        return PxPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template T
     */
    var /**
     * @template T
     */ DataTableResource = (function () {
        function DataTableResource(items) {
            this.items = items;
        }
        /**
         * @param {?} params
         * @param {?=} filter
         * @return {?}
         */
        DataTableResource.prototype.query = /**
         * @param {?} params
         * @param {?=} filter
         * @return {?}
         */
            function (params, filter) {
                var /** @type {?} */ result = [];
                if (filter) {
                    result = this.items.filter(filter);
                }
                else {
                    result = this.items.slice(); // shallow copy to use for sorting instead of changing the original
                }
                if (params.sortBy) {
                    result.sort(function (a, b) {
                        if (typeof a[params.sortBy] === 'string') {
                            return a[params.sortBy].localeCompare(b[params.sortBy]);
                        }
                        else {
                            return a[params.sortBy] - b[params.sortBy];
                        }
                    });
                    if (params.sortAsc === false) {
                        result.reverse();
                    }
                }
                if (params.offset !== undefined) {
                    if (params.limit === undefined) {
                        result = result.slice(params.offset, result.length);
                    }
                    else {
                        result = result.slice(params.offset, params.offset + params.limit);
                    }
                }
                return new Promise(function (resolve, reject) {
                    setTimeout(function () { return resolve(result); });
                });
            };
        /**
         * @return {?}
         */
        DataTableResource.prototype.count = /**
         * @return {?}
         */
            function () {
                var _this = this;
                return new Promise(function (resolve, reject) {
                    setTimeout(function () { return resolve(_this.items.length); });
                });
            };
        return DataTableResource;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DataTableModule = (function () {
        function DataTableModule() {
        }
        DataTableModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            forms.FormsModule
                        ],
                        declarations: [
                            DataTable$$1,
                            DataTableColumn,
                            DataTableTitle,
                            DataTableRow$$1,
                            DataTablePagination$$1,
                            DataTableTitleComponent,
                            PxPipe,
                            HideDirective,
                            MinPipe
                        ],
                        exports: [DataTable$$1, DataTableColumn, DataTableTitle, DataTablePagination$$1]
                    },] },
        ];
        return DataTableModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.DataTable = DataTable$$1;
    exports.DataTableColumn = DataTableColumn;
    exports.DataTableRow = DataTableRow$$1;
    exports.DataTableTitle = DataTableTitle;
    exports.DataTablePagination = DataTablePagination$$1;
    exports.DataTableModule = DataTableModule;
    exports.defaultTranslations = defaultTranslations;
    exports.DataTableResource = DataTableResource;
    exports.a = DataTableTitleComponent;
    exports.c = HideDirective;
    exports.d = MinPipe;
    exports.b = PxPipe;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWRhdGF0YWJsZS1ib290c3RyYXA0LnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vbmd4LWRhdGF0YWJsZS1ib290c3RyYXA0L2NvbXBvbmVudHMvY29sdW1uL2NvbHVtbi5kaXJlY3RpdmUudHMiLCJuZzovL25neC1kYXRhdGFibGUtYm9vdHN0cmFwNC9jb21wb25lbnRzL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5jb21wb25lbnQudHMiLCJuZzovL25neC1kYXRhdGFibGUtYm9vdHN0cmFwNC9jb21wb25lbnRzL3Jvdy9yb3cuY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtZGF0YXRhYmxlLWJvb3RzdHJhcDQvdXRpbHMvZHJhZy50cyIsIm5nOi8vbmd4LWRhdGF0YWJsZS1ib290c3RyYXA0L2NvbXBvbmVudHMvdHlwZXMudHMiLCJuZzovL25neC1kYXRhdGFibGUtYm9vdHN0cmFwNC9jb21wb25lbnRzL3RhYmxlL3RhYmxlLmNvbXBvbmVudC50cyIsIm5nOi8vbmd4LWRhdGF0YWJsZS1ib290c3RyYXA0L2NvbXBvbmVudHMvdGl0bGUvdGl0bGUuY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtZGF0YXRhYmxlLWJvb3RzdHJhcDQvY29tcG9uZW50cy90aXRsZS90aXRsZS5kaXJlY3RpdmUudHMiLCJuZzovL25neC1kYXRhdGFibGUtYm9vdHN0cmFwNC91dGlscy9oaWRlLmRpcmVjdGl2ZS50cyIsIm5nOi8vbmd4LWRhdGF0YWJsZS1ib290c3RyYXA0L3V0aWxzL21pbi5waXBlLnRzIiwibmc6Ly9uZ3gtZGF0YXRhYmxlLWJvb3RzdHJhcDQvdXRpbHMvcHgucGlwZS50cyIsIm5nOi8vbmd4LWRhdGF0YWJsZS1ib290c3RyYXA0L3Rvb2xzL2RhdGEtdGFibGUtcmVzb3VyY2UudHMiLCJuZzovL25neC1kYXRhdGFibGUtYm9vdHN0cmFwNC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbnRlbnRDaGlsZCwgRGlyZWN0aXZlLCBJbnB1dCwgT25Jbml0LCBUZW1wbGF0ZVJlZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0RhdGFUYWJsZVJvd30gZnJvbSAnLi4vLi4vJztcbmltcG9ydCB7Q2VsbENhbGxiYWNrfSBmcm9tICcuLi90eXBlcyc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ2RhdGEtdGFibGUtY29sdW1uJ1xufSlcbmV4cG9ydCBjbGFzcyBEYXRhVGFibGVDb2x1bW48VD4gaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIC8vIGZvciBbbmdDbGFzc11cbiAgc3R5bGVDbGFzc09iamVjdCA9IHt9O1xuXG4gIC8vIGluaXQ6XG4gIEBJbnB1dCgpXG4gIGhlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoKVxuICBzb3J0YWJsZSA9IGZhbHNlO1xuICBASW5wdXQoKVxuICByZXNpemFibGUgPSBmYWxzZTtcbiAgQElucHV0KClcbiAgcHJvcGVydHk6IHN0cmluZztcbiAgQElucHV0KClcbiAgc3R5bGVDbGFzczogc3RyaW5nO1xuICBASW5wdXQoKVxuICBjZWxsQ29sb3JzOiBDZWxsQ2FsbGJhY2s8VD47XG4gIEBJbnB1dCgpXG4gIHdpZHRoOiBudW1iZXIgfCBzdHJpbmc7XG4gIEBJbnB1dCgpXG4gIHZpc2libGUgPSB0cnVlO1xuXG4gIEBDb250ZW50Q2hpbGQoJ2NlbGxUZW1wbGF0ZScpXG4gIGNlbGxUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcbiAgQENvbnRlbnRDaGlsZCgnaGVhZGVyVGVtcGxhdGUnKVxuICBoZWFkZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuICBnZXRDZWxsQ29sb3Iocm93OiBEYXRhVGFibGVSb3c8VD4sIGluZGV4OiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jZWxsQ29sb3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAoPENlbGxDYWxsYmFjazxUPj50aGlzLmNlbGxDb2xvcnMpKHJvdy5pdGVtLCByb3csIHRoaXMsIGluZGV4KTtcbiAgICB9XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLl9pbml0Q2VsbENsYXNzKCk7XG4gIH1cblxuICBwcml2YXRlIF9pbml0Q2VsbENsYXNzKCkge1xuICAgIGlmICghdGhpcy5zdHlsZUNsYXNzICYmIHRoaXMucHJvcGVydHkpIHtcbiAgICAgIGlmICgvXlthLXpBLVowLTlfXSskLy50ZXN0KHRoaXMucHJvcGVydHkpKSB7XG4gICAgICAgIHRoaXMuc3R5bGVDbGFzcyA9ICdjb2x1bW4tJyArIHRoaXMucHJvcGVydHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0eWxlQ2xhc3MgPSAnY29sdW1uLScgKyB0aGlzLnByb3BlcnR5LnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgJycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0eWxlQ2xhc3MgIT0gbnVsbCkge1xuICAgICAgdGhpcy5zdHlsZUNsYXNzT2JqZWN0ID0ge1xuICAgICAgICBbdGhpcy5zdHlsZUNsYXNzXTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBmb3J3YXJkUmVmLCBJbmplY3R9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtEYXRhVGFibGV9IGZyb20gJy4uLy4uLyc7XG5cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZGF0YS10YWJsZS1wYWdpbmF0aW9uJyxcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwibmF2YmFyIHAtMCBwYWdpbmF0aW9uLWNvbXBvbmVudFwiPlxuICA8ZGl2PlxuICAgIHt7ZGF0YVRhYmxlLnRyYW5zbGF0aW9ucy5wYWdpbmF0aW9uUmFuZ2V9fTombmJzcDt7e2RhdGFUYWJsZS5vZmZzZXQgPCAwID8gMCA6IGRhdGFUYWJsZS5vZmZzZXQgKyAxfX0mbmJzcDstXG4gICAge3tbZGF0YVRhYmxlLm9mZnNldCArIGRhdGFUYWJsZS5saW1pdCAsIGRhdGFUYWJsZS5pdGVtQ291bnRdIHwgbWlufX0mbmJzcDsvJm5ic3A7e3tkYXRhVGFibGUuaXRlbUNvdW50fX1cbiAgPC9kaXY+XG4gIDx1bCBjbGFzcz1cIm5hdiBqdXN0aWZ5LWNvbnRlbnQtZW5kXCI+XG4gICAgPGxpIGNsYXNzPVwibmF2LWl0ZW0gcGFnaW5hdGlvbi1saW1pdFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+e3tkYXRhVGFibGUudHJhbnNsYXRpb25zLnBhZ2luYXRpb25MaW1pdH19Ojwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxpbnB1dCAjbGltaXRJbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBtaW49XCIxXCIgc3RlcD1cIjFcIlxuICAgICAgICAgICAgICAgW25nTW9kZWxdPVwibGltaXRcIiAoYmx1cik9XCJsaW1pdCA9IGxpbWl0SW5wdXQudmFsdWVcIlxuICAgICAgICAgICAgICAgKGtleXVwLmVudGVyKT1cImxpbWl0ID0gbGltaXRJbnB1dC52YWx1ZVwiXG4gICAgICAgICAgICAgICAoa2V5dXAuZXNjKT1cImxpbWl0SW5wdXQudmFsdWUgPSBsaW1pdFwiXG4gICAgICAgICAgICAgICAoa2V5cHJlc3MpPVwia2V5UHJlc3MoJGV2ZW50KVwiLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cbiAgICAgIDxidXR0b24gW2Rpc2FibGVkXT1cImRhdGFUYWJsZS5vZmZzZXQgPD0gMFwiIChjbGljayk9XCJwYWdlRmlyc3QoKVwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCI+JmxhcXVvOzwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBbZGlzYWJsZWRdPVwiZGF0YVRhYmxlLm9mZnNldCA8PSAwXCIgKGNsaWNrKT1cInBhZ2VCYWNrKClcIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiPiZsc2FxdW87PC9idXR0b24+XG4gICAgICA8ZGl2IGNsYXNzPVwiZC1pbmxpbmUtYmxvY2tcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XG4gICAgICAgICAgPGlucHV0ICNwYWdlSW5wdXQgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbWluPVwiMVwiIHN0ZXA9XCIxXCIgbWF4PVwie3ttYXhQYWdlfX1cIlxuICAgICAgICAgICAgICAgICBbbmdNb2RlbF09XCJwYWdlXCIgKGJsdXIpPVwicGFnZSA9IHBhZ2VJbnB1dC52YWx1ZVwiXG4gICAgICAgICAgICAgICAgIChrZXl1cC5lbnRlcik9XCJwYWdlID0gcGFnZUlucHV0LnZhbHVlXCIgKGtleXVwLmVzYyk9XCJwYWdlSW5wdXQudmFsdWUgPSBwYWdlXCJcbiAgICAgICAgICAgICAgICAgKGtleXByZXNzKT1cImtleVByZXNzKCRldmVudClcIi8+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLWFwcGVuZFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+LyZuYnNwO3t7ZGF0YVRhYmxlLmxhc3RQYWdlfX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uIFtkaXNhYmxlZF09XCIoZGF0YVRhYmxlLm9mZnNldCArIGRhdGFUYWJsZS5saW1pdCkgPj0gZGF0YVRhYmxlLml0ZW1Db3VudFwiIChjbGljayk9XCJwYWdlRm9yd2FyZCgpXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIj4mcnNhcXVvO1xuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uIFtkaXNhYmxlZF09XCIoZGF0YVRhYmxlLm9mZnNldCArIGRhdGFUYWJsZS5saW1pdCkgPj0gZGF0YVRhYmxlLml0ZW1Db3VudFwiIChjbGljayk9XCJwYWdlTGFzdCgpXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIj4mcmFxdW87XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPlxuICA8L3VsPlxuPC9kaXY+XG5gLFxuICBzdHlsZXM6IFtgLnBhZ2luYXRpb24tY29tcG9uZW50IC5wYWdpbmF0aW9uLWxpbWl0e21hcmdpbi1yaWdodDoxcmVtfS5wYWdpbmF0aW9uLWNvbXBvbmVudCAucGFnaW5hdGlvbi1saW1pdCBpbnB1dHt3aWR0aDo3NXB4fS5wYWdpbmF0aW9uLWNvbXBvbmVudCAuYnRue21hcmdpbi10b3A6LTNweH1gXVxufSlcbmV4cG9ydCBjbGFzcyBEYXRhVGFibGVQYWdpbmF0aW9uPFQ+IHtcblxuICBjb25zdHJ1Y3RvcihASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gRGF0YVRhYmxlKSkgcHVibGljIGRhdGFUYWJsZTogRGF0YVRhYmxlPFQ+KSB7XG4gIH1cblxuICBnZXQgbWF4UGFnZSgpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuZGF0YVRhYmxlLml0ZW1Db3VudCAvIHRoaXMuZGF0YVRhYmxlLmxpbWl0KTtcbiAgfVxuXG4gIGdldCBsaW1pdCgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhVGFibGUubGltaXQ7XG4gIH1cblxuICBzZXQgbGltaXQodmFsdWUpIHtcbiAgICBpZiAoTnVtYmVyKHZhbHVlKSA+IDApIHtcbiAgICAgIHRoaXMuZGF0YVRhYmxlLmxpbWl0ID0gTWF0aC5mbG9vcigrdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBwYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGFUYWJsZS5wYWdlO1xuICB9XG5cbiAgc2V0IHBhZ2UodmFsdWUpIHtcbiAgICBpZiAoTnVtYmVyKHZhbHVlKSA+IDApIHtcbiAgICAgIHRoaXMuZGF0YVRhYmxlLnBhZ2UgPSBNYXRoLmZsb29yKCt2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcGFnZUJhY2soKSB7XG4gICAgdGhpcy5kYXRhVGFibGUub2Zmc2V0IC09IE1hdGgubWluKHRoaXMuZGF0YVRhYmxlLmxpbWl0LCB0aGlzLmRhdGFUYWJsZS5vZmZzZXQpO1xuICB9XG5cbiAgcGFnZUZvcndhcmQoKSB7XG4gICAgdGhpcy5kYXRhVGFibGUub2Zmc2V0ICs9IHRoaXMuZGF0YVRhYmxlLmxpbWl0O1xuICB9XG5cbiAgcGFnZUZpcnN0KCkge1xuICAgIHRoaXMuZGF0YVRhYmxlLm9mZnNldCA9IDA7XG4gIH1cblxuICBwYWdlTGFzdCgpIHtcbiAgICB0aGlzLmRhdGFUYWJsZS5vZmZzZXQgPSAodGhpcy5tYXhQYWdlIC0gMSkgKiB0aGlzLmRhdGFUYWJsZS5saW1pdDtcbiAgfVxuXG4gIGtleVByZXNzKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgaW5wdXRDaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC5jaGFyQ29kZSk7XG4gICAgaWYgKCEoTnVtYmVyKGlucHV0Q2hhcikgPj0gMCkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBmb3J3YXJkUmVmLCBJbmplY3QsIElucHV0LCBPbkRlc3Ryb3ksIE91dHB1dH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0RhdGFUYWJsZX0gZnJvbSAnLi4vLi4vJztcblxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdbZGF0YVRhYmxlUm93XScsXG4gIHRlbXBsYXRlOiBgPHRyIGNsYXNzPVwiZGF0YS10YWJsZS1yb3dcIlxuICAgIFt0aXRsZV09XCJnZXRUb29sdGlwKClcIlxuICAgIFtzdHlsZS5iYWNrZ3JvdW5kLWNvbG9yXT1cImRhdGFUYWJsZS5nZXRSb3dDb2xvcihpdGVtLCBpbmRleCwgX3RoaXMpXCJcbiAgICBbY2xhc3Mucm93LW9kZF09XCJpbmRleCAlIDIgPT09IDBcIlxuICAgIFtjbGFzcy5yb3ctZXZlbl09XCJpbmRleCAlIDIgPT09IDFcIlxuICAgIFtjbGFzcy5zZWxlY3RlZF09XCJzZWxlY3RlZFwiXG4gICAgW2NsYXNzLmNsaWNrYWJsZV09XCJkYXRhVGFibGUuc2VsZWN0T25Sb3dDbGlja1wiXG4gICAgKGRibGNsaWNrKT1cImRhdGFUYWJsZS5yb3dEb3VibGVDbGlja2VkKF90aGlzLCAkZXZlbnQpXCJcbiAgICAoY2xpY2spPVwiZGF0YVRhYmxlLnJvd0NsaWNrZWQoX3RoaXMsICRldmVudClcIj5cbiAgPHRkIFtoaWRlXT1cIiFkYXRhVGFibGUuZXhwYW5kQ29sdW1uVmlzaWJsZVwiIGNsYXNzPVwicm93LWV4cGFuZC1idXR0b25cIlxuICAgICAgKGNsaWNrKT1cImV4cGFuZGVkID0gIWV4cGFuZGVkOyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGRhdGFUYWJsZS5yb3dFeHBhbmRlZChfdGhpcywgJGV2ZW50KVwiPlxuICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtYXJyb3ctY2lyY2xlLW8tcmlnaHRcIiBbaGlkZV09XCJleHBhbmRlZFwiPjwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz1cImZhIGZhLWFycm93LWNpcmNsZS1vLWRvd25cIiBbaGlkZV09XCIhZXhwYW5kZWRcIj48L3NwYW4+XG4gIDwvdGQ+XG4gIDx0ZCBbaGlkZV09XCIhZGF0YVRhYmxlLmluZGV4Q29sdW1uVmlzaWJsZVwiIGNsYXNzPVwiaW5kZXgtY29sdW1uXCIgW3RleHRDb250ZW50XT1cImRpc3BsYXlJbmRleFwiPjwvdGQ+XG4gIDx0ZCBbaGlkZV09XCIhZGF0YVRhYmxlLnNlbGVjdENvbHVtblZpc2libGVcIiBjbGFzcz1cInNlbGVjdC1jb2x1bW5cIj5cbiAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgWyhuZ01vZGVsKV09XCJzZWxlY3RlZFwiLz5cbiAgPC90ZD5cbiAgPHRkICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZGF0YVRhYmxlLmNvbHVtbnNcIiBbaGlkZV09XCIhY29sdW1uLnZpc2libGVcIiBbbmdDbGFzc109XCJjb2x1bW4uc3R5bGVDbGFzc09iamVjdFwiXG4gICAgICBjbGFzcz1cImRhdGEtY29sdW1uXCJcbiAgICAgIFtzdHlsZS5iYWNrZ3JvdW5kLWNvbG9yXT1cImNvbHVtbi5nZXRDZWxsQ29sb3IoX3RoaXMsIGluZGV4KVwiXG4gICAgICAoY2xpY2spPVwiZGF0YVRhYmxlLmNlbGxDbGlja2VkKGNvbHVtbiwgX3RoaXMsICRldmVudClcIj5cbiAgICA8ZGl2ICpuZ0lmPVwiIWNvbHVtbi5jZWxsVGVtcGxhdGVcIiBbdGV4dENvbnRlbnRdPVwiaXRlbVtjb2x1bW4ucHJvcGVydHldXCI+PC9kaXY+XG4gICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5jZWxsVGVtcGxhdGVcIiBbbmdUZW1wbGF0ZU91dGxldF09XCJjb2x1bW4uY2VsbFRlbXBsYXRlXCJcbiAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7Y29sdW1uOiBjb2x1bW4sIHJvdzogX3RoaXMsIGl0ZW06IGl0ZW19XCI+PC9uZy1jb250YWluZXI+XG4gIDwvdGQ+XG48L3RyPlxuPHRyICpuZ0lmPVwiZGF0YVRhYmxlLmV4cGFuZGFibGVSb3dzXCIgW2hpZGVdPVwiIWV4cGFuZGVkXCIgY2xhc3M9XCJyb3ctZXhwYW5zaW9uXCI+XG4gIDx0ZCBbYXR0ci5jb2xzcGFuXT1cImRhdGFUYWJsZS5jb2x1bW5Db3VudFwiPlxuICAgIDxuZy1jb250YWluZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwiZGF0YVRhYmxlLmV4cGFuZFRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7cm93OiBfdGhpcywgaXRlbTogaXRlbX1cIj48L25nLWNvbnRhaW5lcj5cbiAgPC90ZD5cbjwvdHI+XG5gLFxuICBzdHlsZXM6IFtgLnNlbGVjdC1jb2x1bW57dGV4dC1hbGlnbjpjZW50ZXJ9LnJvdy1leHBhbmQtYnV0dG9ue2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyfS5jbGlja2FibGV7Y3Vyc29yOnBvaW50ZXJ9YF1cbn0pXG5leHBvcnQgY2xhc3MgRGF0YVRhYmxlUm93PFQ+IGltcGxlbWVudHMgT25EZXN0cm95IHtcblxuICAvLyByb3cgc2VsZWN0aW9uOlxuICBwcml2YXRlIF9zZWxlY3RlZDogYm9vbGVhbjtcbiAgZXhwYW5kZWQ6IGJvb2xlYW47XG5cbiAgQElucHV0KClcbiAgaXRlbTogVDtcbiAgQElucHV0KClcbiAgaW5kZXg6IG51bWJlcjtcblxuICBAT3V0cHV0KClcbiAgc2VsZWN0ZWRDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLy8gRklYTUUgaXMgdGhlcmUgbm8gdGVtcGxhdGUga2V5d29yZCBmb3IgdGhpcyBpbiBhbmd1bGFyIDI/XG4gIHB1YmxpYyBfdGhpcyA9IHRoaXM7XG5cbiAgY29uc3RydWN0b3IoQEluamVjdChmb3J3YXJkUmVmKCgpID0+IERhdGFUYWJsZSkpIHB1YmxpYyBkYXRhVGFibGU6IERhdGFUYWJsZTxUPikge1xuICB9XG5cbiAgZ2V0IHNlbGVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZDtcbiAgfVxuXG4gIHNldCBzZWxlY3RlZChzZWxlY3RlZCkge1xuICAgIHRoaXMuX3NlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgdGhpcy5zZWxlY3RlZENoYW5nZS5lbWl0KHNlbGVjdGVkKTtcbiAgfVxuXG4gIC8vIG90aGVyOlxuICBnZXQgZGlzcGxheUluZGV4KCkge1xuICAgIGlmICh0aGlzLmRhdGFUYWJsZS5wYWdpbmF0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhVGFibGUuZGlzcGxheVBhcmFtcy5vZmZzZXQgKyB0aGlzLmluZGV4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXggKyAxO1xuICAgIH1cbiAgfVxuXG4gIGdldFRvb2x0aXAoKSB7XG4gICAgaWYgKHRoaXMuZGF0YVRhYmxlLnJvd1Rvb2x0aXApIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGFUYWJsZS5yb3dUb29sdGlwKHRoaXMuaXRlbSwgdGhpcywgdGhpcy5pbmRleCk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgfVxufVxuIiwiZXhwb3J0IHR5cGUgTW92ZUhhbmRsZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgVXBIYW5kbGVyID0gKGV2ZW50OiBNb3VzZUV2ZW50LCB4OiBudW1iZXIsIHk6IG51bWJlciwgbW92ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFnKGV2ZW50OiBNb3VzZUV2ZW50LCB7bW92ZSwgdXB9OiB7IG1vdmU6IE1vdmVIYW5kbGVyLCB1cD86IFVwSGFuZGxlciB9KSB7XG5cbiAgbGV0IHN0YXJ0WCA9IGV2ZW50LnBhZ2VYO1xuICBsZXQgc3RhcnRZID0gZXZlbnQucGFnZVk7XG4gIGxldCB4ID0gc3RhcnRYO1xuICBsZXQgeSA9IHN0YXJ0WTtcbiAgbGV0IG1vdmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gbW91c2VNb3ZlSGFuZGxlcihlOiBNb3VzZUV2ZW50KSB7XG4gICAgbGV0IGR4ID0gZS5wYWdlWCAtIHg7XG4gICAgbGV0IGR5ID0gZS5wYWdlWSAtIHk7XG4gICAgeCA9IGUucGFnZVg7XG4gICAgeSA9IGUucGFnZVk7XG4gICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICBtb3ZlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgbW92ZShlLCBkeCwgZHksIHgsIHkpO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyB0byBhdm9pZCB0ZXh0IHNlbGVjdGlvblxuICB9XG5cbiAgZnVuY3Rpb24gbW91c2VVcEhhbmRsZXIoZTogTW91c2VFdmVudCkge1xuICAgIHggPSBlLnBhZ2VYO1xuICAgIHkgPSBlLnBhZ2VZO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2VNb3ZlSGFuZGxlcik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG1vdXNlVXBIYW5kbGVyKTtcblxuICAgIGlmICh1cCkge1xuICAgICAgdXAoZSwgeCwgeSwgbW92ZWQpO1xuICAgIH1cbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZUhhbmRsZXIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgbW91c2VVcEhhbmRsZXIpO1xufVxuIiwiaW1wb3J0IHtEYXRhVGFibGVDb2x1bW59IGZyb20gJy4vY29sdW1uL2NvbHVtbi5kaXJlY3RpdmUnO1xuaW1wb3J0IHtEYXRhVGFibGVSb3d9IGZyb20gJy4vcm93L3Jvdy5jb21wb25lbnQnO1xuXG5leHBvcnQgdHlwZSBSb3dDYWxsYmFjazxUPiA9IChpdGVtOiBhbnksIHJvdzogRGF0YVRhYmxlUm93PFQ+LCBpbmRleDogbnVtYmVyKSA9PiBzdHJpbmc7XG5leHBvcnQgdHlwZSBDZWxsQ2FsbGJhY2s8VD4gPSAoaXRlbTogYW55LCByb3c6IERhdGFUYWJsZVJvdzxUPiwgY29sdW1uOiBEYXRhVGFibGVDb2x1bW48VD4sIGluZGV4OiBudW1iZXIpID0+IHN0cmluZztcblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVGFibGVUcmFuc2xhdGlvbnMge1xuICBpbmRleENvbHVtbjogc3RyaW5nXG4gIHNlbGVjdENvbHVtbjogc3RyaW5nXG4gIGV4cGFuZENvbHVtbjogc3RyaW5nXG4gIHBhZ2luYXRpb25MaW1pdDogc3RyaW5nXG4gIHBhZ2luYXRpb25SYW5nZTogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VHJhbnNsYXRpb25zID0gPERhdGFUYWJsZVRyYW5zbGF0aW9ucz57XG4gIGluZGV4Q29sdW1uOiAnaW5kZXgnLFxuICBzZWxlY3RDb2x1bW46ICdzZWxlY3QnLFxuICBleHBhbmRDb2x1bW46ICdleHBhbmQnLFxuICBwYWdpbmF0aW9uTGltaXQ6ICdMaW1pdCcsXG4gIHBhZ2luYXRpb25SYW5nZTogJ1Jlc3VsdHMnXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFUYWJsZVBhcmFtcyB7XG4gIG9mZnNldD86IG51bWJlclxuICBsaW1pdD86IG51bWJlclxuICBzb3J0Qnk/OiBzdHJpbmdcbiAgc29ydEFzYz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVGFibGVSb3dFdmVudDxUPiB7XG4gIHJvdz86IERhdGFUYWJsZVJvdzxUPlxuICBldmVudD86IE1vdXNlRXZlbnRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVGFibGVDZWxsRXZlbnQ8VD4ge1xuICByb3c/OiBEYXRhVGFibGVSb3c8VD5cbiAgY29sdW1uPzogRGF0YVRhYmxlQ29sdW1uPFQ+XG4gIGV2ZW50PzogTW91c2VFdmVudFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFUYWJsZUhlYWRlckV2ZW50PFQ+IHtcbiAgY29sdW1uPzogRGF0YVRhYmxlQ29sdW1uPFQ+XG4gIGV2ZW50PzogTW91c2VFdmVudFxufVxuIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBDb250ZW50Q2hpbGQsXG4gIENvbnRlbnRDaGlsZHJlbixcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBJbnB1dCxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFF1ZXJ5TGlzdCxcbiAgVGVtcGxhdGVSZWYsXG4gIFZpZXdDaGlsZHJlblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RGF0YVRhYmxlQ29sdW1uLCBEYXRhVGFibGVSb3csIERhdGFUYWJsZVRpdGxlfSBmcm9tICcuLi8uLi8nO1xuaW1wb3J0IHtkcmFnfSBmcm9tICcuLi8uLi91dGlscy9kcmFnJztcbmltcG9ydCB7XG4gIERhdGFUYWJsZUNlbGxFdmVudCxcbiAgRGF0YVRhYmxlSGVhZGVyRXZlbnQsXG4gIERhdGFUYWJsZVBhcmFtcyxcbiAgRGF0YVRhYmxlUm93RXZlbnQsXG4gIERhdGFUYWJsZVRyYW5zbGF0aW9ucyxcbiAgZGVmYXVsdFRyYW5zbGF0aW9ucyxcbiAgUm93Q2FsbGJhY2tcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2RhdGEtdGFibGUnLFxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJkYXRhLXRhYmxlLXdyYXBwZXJcIj5cbiAgPGRhdGEtdGFibGUtdGl0bGUgKm5nSWY9XCJ0aXRsZVwiPjwvZGF0YS10YWJsZS10aXRsZT5cblxuICA8ZGl2IGNsYXNzPVwiZGF0YS10YWJsZS1ib3hcIj5cbiAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1jb25kZW5zZWQgZGF0YS10YWJsZVwiPlxuICAgICAgPHRoZWFkPlxuICAgICAgPHRyPlxuICAgICAgICA8dGggW2hpZGVdPVwiIWV4cGFuZENvbHVtblZpc2libGVcIiBjbGFzcz1cImV4cGFuZC1jb2x1bW4taGVhZGVyXCI+XG4gICAgICAgIDx0aCBbaGlkZV09XCIhaW5kZXhDb2x1bW5WaXNpYmxlXCIgY2xhc3M9XCJpbmRleC1jb2x1bW4taGVhZGVyXCI+XG4gICAgICAgICAgPHNwYW4gW3RleHRDb250ZW50XT1cImluZGV4Q29sdW1uSGVhZGVyXCI+PC9zcGFuPlxuICAgICAgICA8L3RoPlxuICAgICAgICA8dGggW2hpZGVdPVwiIXNlbGVjdENvbHVtblZpc2libGVcIiBjbGFzcz1cInNlbGVjdC1jb2x1bW4taGVhZGVyXCI+XG4gICAgICAgICAgPGlucHV0IFtoaWRlXT1cIiFtdWx0aVNlbGVjdFwiIHR5cGU9XCJjaGVja2JveFwiIFsobmdNb2RlbCldPVwic2VsZWN0QWxsQ2hlY2tib3hcIi8+XG4gICAgICAgIDwvdGg+XG4gICAgICAgIDx0aCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnNcIiAjdGggW2hpZGVdPVwiIWNvbHVtbi52aXNpYmxlXCIgKGNsaWNrKT1cImhlYWRlckNsaWNrZWQoY29sdW1uLCAkZXZlbnQpXCJcbiAgICAgICAgICAgIFtjbGFzcy5zb3J0YWJsZV09XCJjb2x1bW4uc29ydGFibGVcIiBbY2xhc3MucmVzaXphYmxlXT1cImNvbHVtbi5yZXNpemFibGVcIlxuICAgICAgICAgICAgW25nQ2xhc3NdPVwiY29sdW1uLnN0eWxlQ2xhc3NPYmplY3RcIiBjbGFzcz1cImNvbHVtbi1oZWFkZXJcIiBbc3R5bGUud2lkdGhdPVwiY29sdW1uLndpZHRoIHwgcHhcIj5cbiAgICAgICAgICA8c3BhbiAqbmdJZj1cIiFjb2x1bW4uaGVhZGVyVGVtcGxhdGVcIiBbdGV4dENvbnRlbnRdPVwiY29sdW1uLmhlYWRlclwiPjwvc3Bhbj5cbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLmhlYWRlclRlbXBsYXRlXCIgW25nVGVtcGxhdGVPdXRsZXRdPVwiY29sdW1uLmhlYWRlclRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie2NvbHVtbjogY29sdW1ufVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY29sdW1uLXNvcnQtaWNvblwiICpuZ0lmPVwiY29sdW1uLnNvcnRhYmxlXCI+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXNvcnQgY29sdW1uLXNvcnRhYmxlLWljb25cIiBbaGlkZV09XCJjb2x1bW4ucHJvcGVydHkgPT09IHNvcnRCeVwiPjwvaT5cbiAgICAgICAgICAgIDxzcGFuIFtoaWRlXT1cImNvbHVtbi5wcm9wZXJ0eSAhPT0gc29ydEJ5XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtc29ydC1hc2NcIiBbaGlkZV09XCJzb3J0QXNjXCI+PC9pPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXNvcnQtZGVzY1wiIFtoaWRlXT1cIiFzb3J0QXNjXCI+PC9pPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiAqbmdJZj1cImNvbHVtbi5yZXNpemFibGVcIiBjbGFzcz1cImNvbHVtbi1yZXNpemUtaGFuZGxlXCJcbiAgICAgICAgICAgICAgICAobW91c2Vkb3duKT1cInJlc2l6ZUNvbHVtblN0YXJ0KCRldmVudCwgY29sdW1uLCB0aClcIj48L3NwYW4+XG4gICAgICAgIDwvdGg+XG4gICAgICA8L3RyPlxuICAgICAgPC90aGVhZD5cbiAgICAgIDx0Ym9keSAqbmdGb3I9XCJsZXQgaXRlbSBvZiBpdGVtczsgbGV0IGluZGV4PWluZGV4XCIgY2xhc3M9XCJkYXRhLXRhYmxlLXJvdy13cmFwcGVyXCJcbiAgICAgICAgICAgICBkYXRhVGFibGVSb3cgI3JvdyBbaXRlbV09XCJpdGVtXCIgW2luZGV4XT1cImluZGV4XCIgKHNlbGVjdGVkQ2hhbmdlKT1cIm9uUm93U2VsZWN0Q2hhbmdlZChyb3cpXCI+XG4gICAgICA8L3Rib2R5PlxuICAgICAgPHRib2R5IGNsYXNzPVwic3Vic3RpdHV0ZS1yb3dzXCIgKm5nSWY9XCJwYWdpbmF0aW9uICYmIHN1YnN0aXR1dGVSb3dzXCI+XG4gICAgICA8dHIgKm5nRm9yPVwibGV0IGl0ZW0gb2Ygc3Vic3RpdHV0ZUl0ZW1zLCBsZXQgaW5kZXggPSBpbmRleFwiXG4gICAgICAgICAgW2NsYXNzLnJvdy1vZGRdPVwiKGluZGV4ICsgaXRlbXMubGVuZ3RoKSAlIDIgPT09IDBcIlxuICAgICAgICAgIFtjbGFzcy5yb3ctZXZlbl09XCIoaW5kZXggKyBpdGVtcy5sZW5ndGgpICUgMiA9PT0gMVwiPlxuICAgICAgICA8dGQgW2hpZGVdPVwiIWV4cGFuZENvbHVtblZpc2libGVcIj48L3RkPlxuICAgICAgICA8dGQgW2hpZGVdPVwiIWluZGV4Q29sdW1uVmlzaWJsZVwiPiZuYnNwOzwvdGQ+XG4gICAgICAgIDx0ZCBbaGlkZV09XCIhc2VsZWN0Q29sdW1uVmlzaWJsZVwiPjwvdGQ+XG4gICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnNcIiBbaGlkZV09XCIhY29sdW1uLnZpc2libGVcIj5cbiAgICAgIDwvdHI+XG4gICAgICA8L3Rib2R5PlxuICAgIDwvdGFibGU+XG4gICAgPGRpdiBjbGFzcz1cImxvYWRpbmctY292ZXJcIiAqbmdJZj1cInNob3dSZWxvYWRpbmcgJiYgcmVsb2FkaW5nXCI+PC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkYXRhLXRhYmxlLXBhZ2luYXRpb24gKm5nSWY9XCJwYWdpbmF0aW9uXCI+PC9kYXRhLXRhYmxlLXBhZ2luYXRpb24+XG48L2Rpdj5cbmAsXG4gIHN0eWxlczogW2A6aG9zdCAvZGVlcC8gLmRhdGEtdGFibGUudGFibGU+dGJvZHkrdGJvZHl7Ym9yZGVyLXRvcDpub25lfTpob3N0IC9kZWVwLyAuZGF0YS10YWJsZS50YWJsZSB0ZHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9Omhvc3QgL2RlZXAvIC5kYXRhLXRhYmxlPnRib2R5PnRyPnRkLDpob3N0IC9kZWVwLyAuZGF0YS10YWJsZT50aGVhZD50cj50aHtvdmVyZmxvdzpoaWRkZW59Omhvc3QgL2RlZXAvIC5yb3ctb2Rke2JhY2tncm91bmQtY29sb3I6I2Y2ZjZmNn0uZGF0YS10YWJsZSAuc3Vic3RpdHV0ZS1yb3dzPnRyOmhvdmVyLDpob3N0IC9kZWVwLyAuZGF0YS10YWJsZSAuZGF0YS10YWJsZS1yb3c6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWNlY2VjfS5kYXRhLXRhYmxle2JveC1zaGFkb3c6MCAwIDE1cHggI2VjZWNlYzt0YWJsZS1sYXlvdXQ6Zml4ZWR9LmNvbHVtbi1oZWFkZXJ7cG9zaXRpb246cmVsYXRpdmV9LmV4cGFuZC1jb2x1bW4taGVhZGVye3dpZHRoOjUwcHh9LnNlbGVjdC1jb2x1bW4taGVhZGVye3dpZHRoOjUwcHg7dGV4dC1hbGlnbjpjZW50ZXJ9LmluZGV4LWNvbHVtbi1oZWFkZXJ7d2lkdGg6NDBweH0uY29sdW1uLWhlYWRlci5zb3J0YWJsZXtjdXJzb3I6cG9pbnRlcn0uY29sdW1uLWhlYWRlciAuY29sdW1uLXNvcnQtaWNvbntmbG9hdDpyaWdodH0uY29sdW1uLWhlYWRlci5yZXNpemFibGUgLmNvbHVtbi1zb3J0LWljb257bWFyZ2luLXJpZ2h0OjhweH0uY29sdW1uLWhlYWRlciAuY29sdW1uLXNvcnQtaWNvbiAuY29sdW1uLXNvcnRhYmxlLWljb257Y29sb3I6I2QzZDNkM30uY29sdW1uLWhlYWRlciAuY29sdW1uLXJlc2l6ZS1oYW5kbGV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MDttYXJnaW46MDtwYWRkaW5nOjA7d2lkdGg6OHB4O2hlaWdodDoxMDAlO2N1cnNvcjpjb2wtcmVzaXplfS5kYXRhLXRhYmxlLWJveHtwb3NpdGlvbjpyZWxhdGl2ZX0ubG9hZGluZy1jb3Zlcntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuMyk7dG9wOjB9YF1cbn0pXG5leHBvcnQgY2xhc3MgRGF0YVRhYmxlPFQ+IGltcGxlbWVudHMgRGF0YVRhYmxlUGFyYW1zLCBPbkluaXQge1xuXG4gIC8vIFVJIHN0YXRlIHdpdGhvdXQgaW5wdXQ6XG4gIGluZGV4Q29sdW1uVmlzaWJsZTogYm9vbGVhbjtcbiAgc2VsZWN0Q29sdW1uVmlzaWJsZTogYm9vbGVhbjtcbiAgZXhwYW5kQ29sdW1uVmlzaWJsZTogYm9vbGVhbjtcblxuICAvLyBVSSBzdGF0ZTogdmlzaWJsZSBnZS9zZXQgZm9yIHRoZSBvdXRzaWRlIHdpdGggQElucHV0IGZvciBvbmUtdGltZSBpbml0aWFsIHZhbHVlc1xuICBwcml2YXRlIF9zb3J0Qnk6IHN0cmluZztcbiAgcHJpdmF0ZSBfc29ydEFzYyA9IHRydWU7XG4gIHByaXZhdGUgX29mZnNldCA9IDA7XG4gIHByaXZhdGUgX2xpbWl0ID0gMTA7XG4gIHByaXZhdGUgX2l0ZW1zOiBUW10gPSBbXTtcbiAgcHJpdmF0ZSBfc2NoZWR1bGVkUmVsb2FkOiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIF9zZWxlY3RBbGxDaGVja2JveCA9IGZhbHNlO1xuICBwcml2YXRlIF9kaXNwbGF5UGFyYW1zID0gPERhdGFUYWJsZVBhcmFtcz57fTtcbiAgcHJpdmF0ZSBfcmVsb2FkaW5nID0gZmFsc2U7XG4gIHByaXZhdGUgX3Jlc2l6ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICBzZWxlY3RlZFJvdzogRGF0YVRhYmxlUm93PFQ+O1xuICBzZWxlY3RlZFJvd3M6IERhdGFUYWJsZVJvdzxUPltdID0gW107XG4gIHJlc2l6ZUxpbWl0ID0gMzA7XG5cbiAgQElucHV0KClcbiAgaXRlbUNvdW50OiBudW1iZXI7XG4gIEBJbnB1dCgpXG4gIHBhZ2luYXRpb24gPSB0cnVlO1xuICBASW5wdXQoKVxuICBpbmRleENvbHVtbiA9IHRydWU7XG4gIEBJbnB1dCgpXG4gIGluZGV4Q29sdW1uSGVhZGVyID0gJyc7XG4gIEBJbnB1dCgpXG4gIHJvd0NvbG9yczogUm93Q2FsbGJhY2s8VD47XG4gIEBJbnB1dCgpXG4gIHJvd1Rvb2x0aXA6IFJvd0NhbGxiYWNrPFQ+O1xuICBASW5wdXQoKVxuICBzZWxlY3RDb2x1bW4gPSBmYWxzZTtcbiAgQElucHV0KClcbiAgbXVsdGlTZWxlY3QgPSB0cnVlO1xuICBASW5wdXQoKVxuICBzdWJzdGl0dXRlUm93cyA9IHRydWU7XG4gIEBJbnB1dCgpXG4gIGV4cGFuZGFibGVSb3dzID0gZmFsc2U7XG4gIEBJbnB1dCgpXG4gIHRyYW5zbGF0aW9uczogRGF0YVRhYmxlVHJhbnNsYXRpb25zID0gZGVmYXVsdFRyYW5zbGF0aW9ucztcbiAgQElucHV0KClcbiAgc2VsZWN0T25Sb3dDbGljayA9IGZhbHNlO1xuICBASW5wdXQoKVxuICBhdXRvUmVsb2FkID0gdHJ1ZTtcbiAgQElucHV0KClcbiAgc2hvd1JlbG9hZGluZyA9IGZhbHNlO1xuXG4gIC8vIGV2ZW50IGhhbmRsZXJzOlxuICBAT3V0cHV0KClcbiAgcm93Q2xpY2s6IEV2ZW50RW1pdHRlcjxEYXRhVGFibGVSb3dFdmVudDxUPj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKVxuICByb3dFeHBhbmQ6IEV2ZW50RW1pdHRlcjxEYXRhVGFibGVSb3dFdmVudDxUPj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKVxuICByb3dEb3VibGVDbGljazogRXZlbnRFbWl0dGVyPERhdGFUYWJsZVJvd0V2ZW50PFQ+PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpXG4gIGhlYWRlckNsaWNrOiBFdmVudEVtaXR0ZXI8RGF0YVRhYmxlSGVhZGVyRXZlbnQ8VD4+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KClcbiAgY2VsbENsaWNrOiBFdmVudEVtaXR0ZXI8RGF0YVRhYmxlQ2VsbEV2ZW50PFQ+PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpXG4gIHJlbG9hZDogRXZlbnRFbWl0dGVyPERhdGFUYWJsZVBhcmFtcz4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLy8gVUkgY29tcG9uZW50czpcbiAgQENvbnRlbnRDaGlsZChmb3J3YXJkUmVmKCgpID0+IERhdGFUYWJsZVRpdGxlKSlcbiAgdGl0bGU6IERhdGFUYWJsZVRpdGxlO1xuICBAQ29udGVudENoaWxkcmVuKERhdGFUYWJsZUNvbHVtbilcbiAgY29sdW1uczogUXVlcnlMaXN0PERhdGFUYWJsZUNvbHVtbjxUPj47XG4gIEBWaWV3Q2hpbGRyZW4oRGF0YVRhYmxlUm93KVxuICByb3dzOiBRdWVyeUxpc3Q8RGF0YVRhYmxlUm93PFQ+PjtcbiAgQENvbnRlbnRDaGlsZCgnZXhwYW5kVGVtcGxhdGUnKVxuICBleHBhbmRUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuICBASW5wdXQoKVxuICBnZXQgaXRlbXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xuICB9XG5cbiAgc2V0IGl0ZW1zKGl0ZW1zOiBhbnlbXSkge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fb25SZWxvYWRGaW5pc2hlZCgpO1xuICB9XG5cbiAgQElucHV0KClcbiAgZ2V0IHNvcnRCeSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc29ydEJ5O1xuICB9XG5cbiAgc2V0IHNvcnRCeSh2YWx1ZSkge1xuICAgIHRoaXMuX3NvcnRCeSA9IHZhbHVlO1xuICAgIHRoaXMuX3RyaWdnZXJSZWxvYWQoKTtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGdldCBzb3J0QXNjKCkge1xuICAgIHJldHVybiB0aGlzLl9zb3J0QXNjO1xuICB9XG5cbiAgc2V0IHNvcnRBc2ModmFsdWUpIHtcbiAgICB0aGlzLl9zb3J0QXNjID0gdmFsdWU7XG4gICAgdGhpcy5fdHJpZ2dlclJlbG9hZCgpO1xuICB9XG5cbiAgQElucHV0KClcbiAgZ2V0IG9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICB9XG5cbiAgc2V0IG9mZnNldCh2YWx1ZSkge1xuICAgIHRoaXMuX29mZnNldCA9IHZhbHVlO1xuICAgIHRoaXMuX3RyaWdnZXJSZWxvYWQoKTtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGdldCBsaW1pdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGltaXQ7XG4gIH1cblxuICBzZXQgbGltaXQodmFsdWUpIHtcbiAgICB0aGlzLl9saW1pdCA9IHZhbHVlO1xuICAgIHRoaXMuX3RyaWdnZXJSZWxvYWQoKTtcbiAgfVxuXG4gIC8vIGNhbGN1bGF0ZWQgcHJvcGVydHk6XG4gIEBJbnB1dCgpXG4gIGdldCBwYWdlKCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMub2Zmc2V0IC8gdGhpcy5saW1pdCkgKyAxO1xuICB9XG5cbiAgc2V0IHBhZ2UodmFsdWUpIHtcbiAgICB0aGlzLm9mZnNldCA9ICh2YWx1ZSAtIDEpICogdGhpcy5saW1pdDtcbiAgfVxuXG4gIGdldCBsYXN0UGFnZSgpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuaXRlbUNvdW50IC8gdGhpcy5saW1pdCk7XG4gIH1cblxuICBnZXQgcmVsb2FkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9yZWxvYWRpbmc7XG4gIH1cblxuICBnZXQgZGlzcGxheVBhcmFtcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzcGxheVBhcmFtcztcbiAgfVxuXG4gIGdldCBzZWxlY3RBbGxDaGVja2JveCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0QWxsQ2hlY2tib3g7XG4gIH1cblxuICBzZXQgc2VsZWN0QWxsQ2hlY2tib3godmFsdWUpIHtcbiAgICB0aGlzLl9zZWxlY3RBbGxDaGVja2JveCA9IHZhbHVlO1xuICAgIHRoaXMuX29uU2VsZWN0QWxsQ2hhbmdlZCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgY29sdW1uQ291bnQoKSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBjb3VudCArPSB0aGlzLmluZGV4Q29sdW1uVmlzaWJsZSA/IDEgOiAwO1xuICAgIGNvdW50ICs9IHRoaXMuc2VsZWN0Q29sdW1uVmlzaWJsZSA/IDEgOiAwO1xuICAgIGNvdW50ICs9IHRoaXMuZXhwYW5kQ29sdW1uVmlzaWJsZSA/IDEgOiAwO1xuICAgIHRoaXMuY29sdW1ucy50b0FycmF5KCkuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgY291bnQgKz0gY29sdW1uLnZpc2libGUgPyAxIDogMDtcbiAgICB9KTtcbiAgICByZXR1cm4gY291bnQ7XG4gIH1cblxuICBnZXQgc3Vic3RpdHV0ZUl0ZW1zKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHtsZW5ndGg6IHRoaXMuZGlzcGxheVBhcmFtcyEubGltaXQgLSB0aGlzLml0ZW1zLmxlbmd0aH0pO1xuICB9XG5cbiAgZ2V0Um93Q29sb3IoaXRlbTogYW55LCBpbmRleDogbnVtYmVyLCByb3c6IERhdGFUYWJsZVJvdzxUPikge1xuICAgIGlmICh0aGlzLnJvd0NvbG9ycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gKDxSb3dDYWxsYmFjazxUPj50aGlzLnJvd0NvbG9ycykoaXRlbSwgcm93LCBpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0dGluZyBtdWx0aXBsZSBvYnNlcnZhYmxlIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgc29ydChzb3J0Qnk6IHN0cmluZywgYXNjOiBib29sZWFuKSB7XG4gICAgdGhpcy5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgdGhpcy5zb3J0QXNjID0gYXNjO1xuICB9XG5cbiAgcmVsb2FkSXRlbXMoKSB7XG4gICAgdGhpcy5fcmVsb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnJlbG9hZC5lbWl0KHRoaXMuX2dldFJlbW90ZVBhcmFtZXRlcnMoKSk7XG4gIH1cblxuICByb3dDbGlja2VkKHJvdzogRGF0YVRhYmxlUm93PFQ+LCBldmVudDogTW91c2VFdmVudCkge1xuICAgIHRoaXMucm93Q2xpY2suZW1pdCh7cm93LCBldmVudH0pO1xuICB9XG5cbiAgcm93RG91YmxlQ2xpY2tlZChyb3c6IERhdGFUYWJsZVJvdzxUPiwgZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLnJvd0RvdWJsZUNsaWNrLmVtaXQoe3JvdywgZXZlbnR9KTtcbiAgfVxuXG4gIGhlYWRlckNsaWNrZWQoY29sdW1uOiBEYXRhVGFibGVDb2x1bW48VD4sIGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLl9yZXNpemVJblByb2dyZXNzKSB7XG4gICAgICB0aGlzLmhlYWRlckNsaWNrLmVtaXQoe2NvbHVtbiwgZXZlbnR9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGhpcyBpcyBiZWNhdXNlIEkgY2FuJ3QgcHJldmVudCBjbGljayBmcm9tIG1vdXN1cCBvZiB0aGUgZHJhZyBlbmRcbiAgICAgIHRoaXMuX3Jlc2l6ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBjZWxsQ2xpY2tlZChjb2x1bW46IERhdGFUYWJsZUNvbHVtbjxUPiwgcm93OiBEYXRhVGFibGVSb3c8VD4sIGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5jZWxsQ2xpY2suZW1pdCh7cm93LCBjb2x1bW4sIGV2ZW50fSk7XG4gIH1cblxuICByb3dFeHBhbmRlZChyb3c6IERhdGFUYWJsZVJvdzxUPiwgZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLnJvd0V4cGFuZC5lbWl0KHtyb3csIGV2ZW50fSk7XG4gIH1cblxuICBvblJvd1NlbGVjdENoYW5nZWQocm93OiBEYXRhVGFibGVSb3c8VD4pIHtcbiAgICAvLyBtYWludGFpbiB0aGUgc2VsZWN0ZWRSb3cocykgdmlld1xuICAgIGlmICh0aGlzLm11bHRpU2VsZWN0KSB7XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLnNlbGVjdGVkUm93cy5pbmRleE9mKHJvdyk7XG4gICAgICBpZiAocm93LnNlbGVjdGVkICYmIGluZGV4IDwgMCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5wdXNoKHJvdyk7XG4gICAgICB9IGVsc2UgaWYgKCFyb3cuc2VsZWN0ZWQgJiYgaW5kZXggPj0gMCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocm93LnNlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRSb3cgPSByb3c7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRSb3cgPT09IHJvdykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkUm93ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyB1bnNlbGVjdCBhbGwgb3RoZXIgcm93czpcbiAgICBpZiAocm93LnNlbGVjdGVkICYmICF0aGlzLm11bHRpU2VsZWN0KSB7XG4gICAgICB0aGlzLnJvd3MudG9BcnJheSgpLmZpbHRlcihyb3dfID0+IHJvd18uc2VsZWN0ZWQpLmZvckVhY2gocm93XyA9PiB7XG4gICAgICAgIGlmIChyb3dfICE9PSByb3cpIHsgLy8gYXZvaWQgZW5kbGVzcyBsb29wXG4gICAgICAgICAgcm93Xy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXNpemVDb2x1bW5TdGFydChldmVudDogTW91c2VFdmVudCwgY29sdW1uOiBEYXRhVGFibGVDb2x1bW48VD4sIGNvbHVtbkVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgdGhpcy5fcmVzaXplSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgZHJhZyhldmVudCwge1xuICAgICAgbW92ZTogKG1vdmVFdmVudDogTW91c2VFdmVudCwgZHg6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAodGhpcy5faXNSZXNpemVJbkxpbWl0KGNvbHVtbkVsZW1lbnQsIGR4KSkge1xuICAgICAgICAgIGNvbHVtbi53aWR0aCA9IGNvbHVtbkVsZW1lbnQub2Zmc2V0V2lkdGggKyBkeDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGluaXRcbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5faW5pdERlZmF1bHRWYWx1ZXMoKTtcbiAgICB0aGlzLl9pbml0RGVmYXVsdENsaWNrRXZlbnRzKCk7XG4gICAgdGhpcy5fdXBkYXRlRGlzcGxheVBhcmFtcygpO1xuICAgIGlmICh0aGlzLmF1dG9SZWxvYWQgJiYgdGhpcy5fc2NoZWR1bGVkUmVsb2FkID09IG51bGwpIHtcbiAgICAgIHRoaXMucmVsb2FkSXRlbXMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9pbml0RGVmYXVsdFZhbHVlcygpIHtcbiAgICB0aGlzLmluZGV4Q29sdW1uVmlzaWJsZSA9IHRoaXMuaW5kZXhDb2x1bW47XG4gICAgdGhpcy5zZWxlY3RDb2x1bW5WaXNpYmxlID0gdGhpcy5zZWxlY3RDb2x1bW47XG4gICAgdGhpcy5leHBhbmRDb2x1bW5WaXNpYmxlID0gdGhpcy5leHBhbmRhYmxlUm93cztcbiAgfVxuXG4gIHByaXZhdGUgX2luaXREZWZhdWx0Q2xpY2tFdmVudHMoKSB7XG4gICAgdGhpcy5oZWFkZXJDbGljay5zdWJzY3JpYmUodGFibGVFdmVudCA9PiB0aGlzLl9zb3J0Q29sdW1uKHRhYmxlRXZlbnQuY29sdW1uKSk7XG4gICAgaWYgKHRoaXMuc2VsZWN0T25Sb3dDbGljaykge1xuICAgICAgdGhpcy5yb3dDbGljay5zdWJzY3JpYmUodGFibGVFdmVudCA9PiB0YWJsZUV2ZW50LnJvdy5zZWxlY3RlZCA9ICF0YWJsZUV2ZW50LnJvdy5zZWxlY3RlZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb25SZWxvYWRGaW5pc2hlZCgpIHtcbiAgICB0aGlzLl91cGRhdGVEaXNwbGF5UGFyYW1zKCk7XG4gICAgdGhpcy5fc2VsZWN0QWxsQ2hlY2tib3ggPSBmYWxzZTtcbiAgICB0aGlzLl9yZWxvYWRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZURpc3BsYXlQYXJhbXMoKSB7XG4gICAgdGhpcy5fZGlzcGxheVBhcmFtcyA9IHtcbiAgICAgIHNvcnRCeTogdGhpcy5zb3J0QnksXG4gICAgICBzb3J0QXNjOiB0aGlzLnNvcnRBc2MsXG4gICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LFxuICAgICAgbGltaXQ6IHRoaXMubGltaXRcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBfdHJpZ2dlclJlbG9hZCgpIHtcbiAgICAvLyBmb3IgYXZvaWRpbmcgY2FzY2FkaW5nIHJlbG9hZHMgaWYgbXVsdGlwbGUgcGFyYW1zIGFyZSBzZXQgYXQgb25jZTpcbiAgICBpZiAodGhpcy5fc2NoZWR1bGVkUmVsb2FkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fc2NoZWR1bGVkUmVsb2FkKTtcbiAgICB9XG4gICAgdGhpcy5fc2NoZWR1bGVkUmVsb2FkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnJlbG9hZEl0ZW1zKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRSZW1vdGVQYXJhbWV0ZXJzKCk6IERhdGFUYWJsZVBhcmFtcyB7XG4gICAgbGV0IHBhcmFtcyA9IDxEYXRhVGFibGVQYXJhbXM+e307XG5cbiAgICBpZiAodGhpcy5zb3J0QnkpIHtcbiAgICAgIHBhcmFtcy5zb3J0QnkgPSB0aGlzLnNvcnRCeTtcbiAgICAgIHBhcmFtcy5zb3J0QXNjID0gdGhpcy5zb3J0QXNjO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYWdpbmF0aW9uKSB7XG4gICAgICBwYXJhbXMub2Zmc2V0ID0gdGhpcy5vZmZzZXQ7XG4gICAgICBwYXJhbXMubGltaXQgPSB0aGlzLmxpbWl0O1xuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgcHJpdmF0ZSBfc29ydENvbHVtbihjb2x1bW46IERhdGFUYWJsZUNvbHVtbjxUPikge1xuICAgIGlmIChjb2x1bW4uc29ydGFibGUpIHtcbiAgICAgIGxldCBhc2NlbmRpbmcgPSB0aGlzLnNvcnRCeSA9PT0gY29sdW1uLnByb3BlcnR5ID8gIXRoaXMuc29ydEFzYyA6IHRydWU7XG4gICAgICB0aGlzLnNvcnQoY29sdW1uLnByb3BlcnR5LCBhc2NlbmRpbmcpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX29uU2VsZWN0QWxsQ2hhbmdlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMucm93cy50b0FycmF5KCkuZm9yRWFjaChyb3cgPT4gcm93LnNlbGVjdGVkID0gdmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNSZXNpemVJbkxpbWl0KGNvbHVtbkVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkeDogbnVtYmVyKSB7XG4gICAgLyogVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBDU1MgbWluLXdpZHRoIGRpZG4ndCB3b3JrIG9uIHRhYmxlLWxheW91dDogZml4ZWQuXG4gICAgIFdpdGhvdXQgdGhlIGxpbWl0cywgcmVzaXppbmcgY2FuIG1ha2UgdGhlIG5leHQgY29sdW1uIGRpc2FwcGVhciBjb21wbGV0ZWx5LFxuICAgICBhbmQgZXZlbiBpbmNyZWFzZSB0aGUgdGFibGUgd2lkdGguIFRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIHN1ZmZlcnMgZnJvbSB0aGUgZmFjdCxcbiAgICAgdGhhdCBvZmZzZXRXaWR0aCBzb21ldGltZXMgY29udGFpbnMgb3V0LW9mLWRhdGUgdmFsdWVzLiAqL1xuICAgIHJldHVybiAhKChkeCA8IDAgJiYgKGNvbHVtbkVsZW1lbnQub2Zmc2V0V2lkdGggKyBkeCkgPD0gdGhpcy5yZXNpemVMaW1pdCkgfHxcbiAgICAgICFjb2x1bW5FbGVtZW50Lm5leHRFbGVtZW50U2libGluZyB8fCAvLyByZXNpemluZyBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIHRoZSBsYXN0IHZpc2libGUgY29sdW1uXG4gICAgICAoZHggPj0gMCAmJiAoKDxIVE1MRWxlbWVudD4gY29sdW1uRWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFdpZHRoICsgZHgpIDw9IHRoaXMucmVzaXplTGltaXQpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIGZvcndhcmRSZWYsIEhvc3RMaXN0ZW5lciwgSW5qZWN0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RGF0YVRhYmxlfSBmcm9tICcuLi8uLi8nO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdkYXRhLXRhYmxlLXRpdGxlJyxcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwibmF2YmFyXCI+XG4gIDxoNCBjbGFzcz1cInRpdGxlXCIgW3RleHRDb250ZW50XT1cImRhdGFUYWJsZS50aXRsZS50aXRsZVwiPjwvaDQ+XG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJkYXRhVGFibGUudGl0bGUudGl0bGVUZW1wbGF0ZVwiIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImRhdGFUYWJsZS50aXRsZS50aXRsZVRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie2l0ZW1zOiBkYXRhVGFibGUuaXRlbXN9XCI+XG4gIDwvbmctY29udGFpbmVyPlxuICA8ZGl2ICpuZ0lmPVwiZGF0YVRhYmxlLnRpdGxlLmNvbnRyb2xzXCI+XG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHJlZnJlc2gtYnV0dG9uXCIgKGNsaWNrKT1cImRhdGFUYWJsZS5yZWxvYWRJdGVtcygpXCI+XG4gICAgICA8aSBjbGFzcz1cImZhIGZhLXJlZnJlc2hcIj48L2k+XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGNvbHVtbi1zZWxlY3Rvci1idXR0b25cIiBbY2xhc3MuYWN0aXZlXT1cImNvbHVtblNlbGVjdG9yT3BlblwiXG4gICAgICAgICAgICAoY2xpY2spPVwiY29sdW1uU2VsZWN0b3JPcGVuID0gIWNvbHVtblNlbGVjdG9yT3BlbjsgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCI+XG4gICAgICA8aSBjbGFzcz1cImZhIGZhLWxpc3RcIj48L2k+XG4gICAgPC9idXR0b24+XG4gICAgPGRpdiBjbGFzcz1cImNvbHVtbi1zZWxlY3Rvci13cmFwcGVyXCIgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiPlxuICAgICAgPGRpdiAqbmdJZj1cImNvbHVtblNlbGVjdG9yT3BlblwiIGNsYXNzPVwiY29sdW1uLXNlbGVjdG9yLWJveCBjYXJkXCI+XG4gICAgICAgIDxkaXYgKm5nSWY9XCJkYXRhVGFibGUuZXhwYW5kYWJsZVJvd3NcIiBjbGFzcz1cImNvbHVtbi1zZWxlY3Rvci1maXhlZC1jb2x1bW4gY2hlY2tib3hcIj5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgWyhuZ01vZGVsKV09XCJkYXRhVGFibGUuZXhwYW5kQ29sdW1uVmlzaWJsZVwiLz5cbiAgICAgICAgICAgIDxzcGFuPnt7ZGF0YVRhYmxlLnRyYW5zbGF0aW9ucy5leHBhbmRDb2x1bW59fTwvc3Bhbj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiAqbmdJZj1cImRhdGFUYWJsZS5pbmRleENvbHVtblwiIGNsYXNzPVwiY29sdW1uLXNlbGVjdG9yLWZpeGVkLWNvbHVtbiBjaGVja2JveFwiPlxuICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBbKG5nTW9kZWwpXT1cImRhdGFUYWJsZS5pbmRleENvbHVtblZpc2libGVcIi8+XG4gICAgICAgICAgICA8c3Bhbj57e2RhdGFUYWJsZS50cmFuc2xhdGlvbnMuaW5kZXhDb2x1bW59fTwvc3Bhbj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiAqbmdJZj1cImRhdGFUYWJsZS5zZWxlY3RDb2x1bW5cIiBjbGFzcz1cImNvbHVtbi1zZWxlY3Rvci1maXhlZC1jb2x1bW4gY2hlY2tib3hcIj5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgWyhuZ01vZGVsKV09XCJkYXRhVGFibGUuc2VsZWN0Q29sdW1uVmlzaWJsZVwiLz5cbiAgICAgICAgICAgIDxzcGFuPnt7ZGF0YVRhYmxlLnRyYW5zbGF0aW9ucy5zZWxlY3RDb2x1bW59fTwvc3Bhbj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGRhdGFUYWJsZS5jb2x1bW5zXCIgY2xhc3M9XCJjb2x1bW4tc2VsZWN0b3ItY29sdW1uIGNoZWNrYm94XCI+XG4gICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFsobmdNb2RlbCldPVwiY29sdW1uLnZpc2libGVcIi8+XG4gICAgICAgICAgICA8c3BhbiBbdGV4dENvbnRlbnRdPVwiY29sdW1uLmhlYWRlclwiPjwvc3Bhbj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuYCxcbiAgc3R5bGVzOiBbYC5uYXZiYXJ7cGFkZGluZzoxMHB4IDB9Lm5hdmJhciAudGl0bGV7bWFyZ2luOjVweCAwIDAgNXB4fS5jb2x1bW4tc2VsZWN0b3Itd3JhcHBlcntwb3NpdGlvbjpyZWxhdGl2ZX0uY29sdW1uLXNlbGVjdG9yLXdyYXBwZXIgLmNvbHVtbi1zZWxlY3Rvci1ib3h7Ym94LXNoYWRvdzowIDAgMTBweCAjZDNkM2QzO3dpZHRoOjE1MHB4O3BhZGRpbmc6MTBweDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDoxcHg7ei1pbmRleDoxMDYwfS5jb2x1bW4tc2VsZWN0b3Itd3JhcHBlciAuY29sdW1uLXNlbGVjdG9yLWJveCAuY2hlY2tib3h7bWFyZ2luLWJvdHRvbTo0cHh9LmNvbHVtbi1zZWxlY3Rvci13cmFwcGVyIC5jb2x1bW4tc2VsZWN0b3ItYm94IC5jb2x1bW4tc2VsZWN0b3ItZml4ZWQtY29sdW1ue2ZvbnQtc3R5bGU6aXRhbGljfWBdXG59KVxuZXhwb3J0IGNsYXNzIERhdGFUYWJsZVRpdGxlQ29tcG9uZW50PFQ+IHtcblxuICBjb2x1bW5TZWxlY3Rvck9wZW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gRGF0YVRhYmxlKSkgcHVibGljIGRhdGFUYWJsZTogRGF0YVRhYmxlPFQ+KSB7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDpjbGljaycsIFsnJGV2ZW50J10pXG4gIF9jbG9zZVNlbGVjdG9yKCRldmVudCkge1xuICAgIHRoaXMuY29sdW1uU2VsZWN0b3JPcGVuID0gZmFsc2U7XG4gIH1cbn1cblxuIiwiaW1wb3J0IHtDb250ZW50Q2hpbGQsIERpcmVjdGl2ZSwgSW5wdXQsIFRlbXBsYXRlUmVmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnZGF0YS10YWJsZS10aXRsZSdcbn0pXG5leHBvcnQgY2xhc3MgRGF0YVRhYmxlVGl0bGUge1xuXG4gIEBJbnB1dCgpXG4gIHRpdGxlID0gJyc7XG4gIEBDb250ZW50Q2hpbGQoJ3RpdGxlVGVtcGxhdGUnKVxuICB0aXRsZVRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuICBASW5wdXQoKVxuICBjb250cm9scyA9IHRydWU7XG59XG4iLCJpbXBvcnQge0RpcmVjdGl2ZSwgRWxlbWVudFJlZiwgSW5wdXQsIFJlbmRlcmVyfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuXG5mdW5jdGlvbiBpc0JsYW5rKG9iajogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiBvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGw7XG59XG5cbkBEaXJlY3RpdmUoe3NlbGVjdG9yOiAnW2hpZGVdJ30pXG5leHBvcnQgY2xhc3MgSGlkZURpcmVjdGl2ZSB7XG5cbiAgcHJpdmF0ZSBfcHJldkNvbmRpdGlvbjogYm9vbGVhbiA9IG51bGw7XG4gIHByaXZhdGUgX2Rpc3BsYXlTdHlsZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2VsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgX3JlbmRlcmVyOiBSZW5kZXJlcikge1xuICB9XG5cbiAgQElucHV0KClcbiAgc2V0IGhpZGUobmV3Q29uZGl0aW9uOiBib29sZWFuKSB7XG4gICAgdGhpcy5pbml0RGlzcGxheVN0eWxlKCk7XG5cbiAgICBpZiAobmV3Q29uZGl0aW9uICYmIChpc0JsYW5rKHRoaXMuX3ByZXZDb25kaXRpb24pIHx8ICF0aGlzLl9wcmV2Q29uZGl0aW9uKSkge1xuICAgICAgdGhpcy5fcHJldkNvbmRpdGlvbiA9IHRydWU7XG4gICAgICB0aGlzLl9yZW5kZXJlci5zZXRFbGVtZW50U3R5bGUodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCAnZGlzcGxheScsICdub25lJyk7XG4gICAgfSBlbHNlIGlmICghbmV3Q29uZGl0aW9uICYmIChpc0JsYW5rKHRoaXMuX3ByZXZDb25kaXRpb24pIHx8IHRoaXMuX3ByZXZDb25kaXRpb24pKSB7XG4gICAgICB0aGlzLl9wcmV2Q29uZGl0aW9uID0gZmFsc2U7XG4gICAgICB0aGlzLl9yZW5kZXJlci5zZXRFbGVtZW50U3R5bGUodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCAnZGlzcGxheScsIHRoaXMuX2Rpc3BsYXlTdHlsZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbml0RGlzcGxheVN0eWxlKCkge1xuICAgIGlmICh0aGlzLl9kaXNwbGF5U3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IGRpc3BsYXlTdHlsZSA9IHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zdHlsZS5kaXNwbGF5O1xuICAgICAgaWYgKGRpc3BsYXlTdHlsZSAmJiBkaXNwbGF5U3R5bGUgIT09ICdub25lJykge1xuICAgICAgICB0aGlzLl9kaXNwbGF5U3R5bGUgPSBkaXNwbGF5U3R5bGU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1BpcGUsIFBpcGVUcmFuc2Zvcm19IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AUGlwZSh7XG4gIG5hbWU6ICdtaW4nXG59KVxuZXhwb3J0IGNsYXNzIE1pblBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcblxuICB0cmFuc2Zvcm0odmFsdWU6IG51bWJlcltdLCAuLi5hcmdzOiBhbnlbXSk6IGFueSB7XG4gICAgcmV0dXJuIE1hdGgubWluLmFwcGx5KG51bGwsIHZhbHVlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtQaXBlLCBQaXBlVHJhbnNmb3JtfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQFBpcGUoe1xuICBuYW1lOiAncHgnXG59KVxuZXhwb3J0IGNsYXNzIFB4UGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuXG4gIHRyYW5zZm9ybSh2YWx1ZTogc3RyaW5nIHwgbnVtYmVyLCAuLi5hcmdzOiBhbnlbXSk6IGFueSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKSA+PSAwID8gYCR7dmFsdWV9cHhgIDogdmFsdWU7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge0RhdGFUYWJsZVBhcmFtc30gZnJvbSAnLi4nO1xuXG5cbmV4cG9ydCBjbGFzcyBEYXRhVGFibGVSZXNvdXJjZTxUPiB7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBpdGVtczogVFtdKSB7XG4gIH1cblxuICBxdWVyeShwYXJhbXM6IERhdGFUYWJsZVBhcmFtcywgZmlsdGVyPzogKGl0ZW06IFQsIGluZGV4OiBudW1iZXIsIGl0ZW1zOiBUW10pID0+IGJvb2xlYW4pOiBQcm9taXNlPFRbXT4ge1xuXG4gICAgbGV0IHJlc3VsdDogVFtdID0gW107XG4gICAgaWYgKGZpbHRlcikge1xuICAgICAgcmVzdWx0ID0gdGhpcy5pdGVtcy5maWx0ZXIoZmlsdGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gdGhpcy5pdGVtcy5zbGljZSgpOyAvLyBzaGFsbG93IGNvcHkgdG8gdXNlIGZvciBzb3J0aW5nIGluc3RlYWQgb2YgY2hhbmdpbmcgdGhlIG9yaWdpbmFsXG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5zb3J0QnkpIHtcbiAgICAgIHJlc3VsdC5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFbcGFyYW1zLnNvcnRCeV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIGFbcGFyYW1zLnNvcnRCeV0ubG9jYWxlQ29tcGFyZShiW3BhcmFtcy5zb3J0QnldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gYVtwYXJhbXMuc29ydEJ5XSAtIGJbcGFyYW1zLnNvcnRCeV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHBhcmFtcy5zb3J0QXNjID09PSBmYWxzZSkge1xuICAgICAgICByZXN1bHQucmV2ZXJzZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLm9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAocGFyYW1zLmxpbWl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKHBhcmFtcy5vZmZzZXQsIHJlc3VsdC5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKHBhcmFtcy5vZmZzZXQsIHBhcmFtcy5vZmZzZXQgKyBwYXJhbXMubGltaXQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUocmVzdWx0KSk7XG4gICAgfSk7XG4gIH1cblxuICBjb3VudCgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUodGhpcy5pdGVtcy5sZW5ndGgpKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7RGF0YVRhYmxlQ29sdW1ufSBmcm9tICcuL2NvbXBvbmVudHMvY29sdW1uL2NvbHVtbi5kaXJlY3RpdmUnO1xuaW1wb3J0IHtEYXRhVGFibGVQYWdpbmF0aW9ufSBmcm9tICcuL2NvbXBvbmVudHMvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmNvbXBvbmVudCc7XG5pbXBvcnQge0RhdGFUYWJsZVJvd30gZnJvbSAnLi9jb21wb25lbnRzL3Jvdy9yb3cuY29tcG9uZW50JztcbmltcG9ydCB7RGF0YVRhYmxlfSBmcm9tICcuL2NvbXBvbmVudHMvdGFibGUvdGFibGUuY29tcG9uZW50JztcbmltcG9ydCB7RGF0YVRhYmxlVGl0bGVDb21wb25lbnR9IGZyb20gJy4vY29tcG9uZW50cy90aXRsZS90aXRsZS5jb21wb25lbnQnO1xuaW1wb3J0IHtEYXRhVGFibGVUaXRsZX0gZnJvbSAnLi9jb21wb25lbnRzL3RpdGxlL3RpdGxlLmRpcmVjdGl2ZSc7XG5pbXBvcnQge0hpZGVEaXJlY3RpdmV9IGZyb20gJy4vdXRpbHMvaGlkZS5kaXJlY3RpdmUnO1xuaW1wb3J0IHtNaW5QaXBlfSBmcm9tICcuL3V0aWxzL21pbi5waXBlJztcbmltcG9ydCB7UHhQaXBlfSBmcm9tICcuL3V0aWxzL3B4LnBpcGUnO1xuXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi90b29scy9kYXRhLXRhYmxlLXJlc291cmNlJztcblxuZXhwb3J0IHtEYXRhVGFibGUsIERhdGFUYWJsZUNvbHVtbiwgRGF0YVRhYmxlUm93LCBEYXRhVGFibGVUaXRsZSwgRGF0YVRhYmxlUGFnaW5hdGlvbn07XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgRm9ybXNNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgRGF0YVRhYmxlLFxuICAgIERhdGFUYWJsZUNvbHVtbixcbiAgICBEYXRhVGFibGVUaXRsZSxcbiAgICBEYXRhVGFibGVSb3csXG4gICAgRGF0YVRhYmxlUGFnaW5hdGlvbixcbiAgICBEYXRhVGFibGVUaXRsZUNvbXBvbmVudCxcbiAgICBQeFBpcGUsXG4gICAgSGlkZURpcmVjdGl2ZSxcbiAgICBNaW5QaXBlXG4gIF0sXG4gIGV4cG9ydHM6IFtEYXRhVGFibGUsIERhdGFUYWJsZUNvbHVtbiwgRGF0YVRhYmxlVGl0bGUsIERhdGFUYWJsZVBhZ2luYXRpb25dXG59KVxuZXhwb3J0IGNsYXNzIERhdGFUYWJsZU1vZHVsZSB7XG59XG4iXSwibmFtZXMiOlsiRGlyZWN0aXZlIiwiSW5wdXQiLCJDb250ZW50Q2hpbGQiLCJEYXRhVGFibGVQYWdpbmF0aW9uIiwiQ29tcG9uZW50IiwiRGF0YVRhYmxlIiwiSW5qZWN0IiwiZm9yd2FyZFJlZiIsIkV2ZW50RW1pdHRlciIsIkRhdGFUYWJsZVJvdyIsIk91dHB1dCIsIkNvbnRlbnRDaGlsZHJlbiIsIlZpZXdDaGlsZHJlbiIsIkhvc3RMaXN0ZW5lciIsIkVsZW1lbnRSZWYiLCJSZW5kZXJlciIsIlBpcGUiLCJOZ01vZHVsZSIsIkNvbW1vbk1vZHVsZSIsIkZvcm1zTW9kdWxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7OztvQ0FVcUIsRUFBRTs0QkFNVixLQUFLOzZCQUVKLEtBQUs7MkJBVVAsSUFBSTs7Ozs7OztRQU9kLHNDQUFZOzs7OztZQUFaLFVBQWEsR0FBb0IsRUFBRSxLQUFhO2dCQUM5QyxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssU0FBUyxFQUFFO29CQUNqQyxPQUFPLEVBQWtCLElBQUksQ0FBQyxVQUFVLEdBQUUsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO2lCQUN2RTthQUNGOzs7O1FBRUQsa0NBQVE7OztZQUFSO2dCQUNFLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQzthQUN2Qjs7OztRQUVPLHdDQUFjOzs7O2dCQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO29CQUNyQyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7d0JBQ3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7cUJBQzdDO3lCQUFNO3dCQUNMLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQyxDQUFDO3FCQUMzRTtpQkFDRjtnQkFFRCxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxFQUFFO29CQUMzQixJQUFJLENBQUMsZ0JBQWdCO3dC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